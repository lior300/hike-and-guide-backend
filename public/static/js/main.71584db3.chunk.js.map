{"version":3,"sources":["img/star.svg","img/‏‏star-o.svg","logo.svg","history.js","services/http.service.js","services/user.service.js","services/auth.service.js","store/actions/userAction.js","store/actions/loadingActions.js","cmps/Navbar.jsx","cmps/Footer.jsx","cmps/TrailPreview.jsx","cmps/GuidePreview.jsx","cmps/List.jsx","services/trail.service.js","store/actions/trailsActions.js","pages/HomePage.jsx","pages/TrailPage.jsx","services/language.service.js","services/review.service.js","store/actions/reviewActions.js","cmps/ReviewAdd.jsx","cmps/Review.jsx","cmps/ReviewList.jsx","services/order.service.js","cmps/BookingForm.jsx","pages/BookingPage.jsx","pages/GuidePage.jsx","pages/LogIn.jsx","cmps/Order.jsx","cmps/OrdersList.jsx","pages/UserProfile.jsx","style/mapStyle.js","cmps/MapContainer.jsx","pages/TrailDetailsPage.jsx","pages/TrailAdd.jsx","App.js","serviceWorker.js","store/reducers/userReducer.js","store/reducers/trailReducer.js","store/reducers/reviewReducer.js","store/reducers/loadingReducer.js","store/reducers/rootReducer.js","store/store.js","cmps/ScrollToTop.jsx","index.js"],"names":["module","exports","history","createBrowserHistory","axios","Axios","create","withCredentials","endpoint","data","ajax","a","method","url","res","console","log","dir","response","status","push","query","filter","users","HttpService","save","user","_id","remove","userID","getById","userId","getMiniUserObj","userName","fullName","imgUrl","login","signup","logout","userCred","_handleLogin","sessionStorage","clear","UserService","setItem","JSON","stringify","loadUsers","dispatch","type","_setUsers","setUser","_Navbar","state","headerColorClass","menuActiveClass","navOpenedClass","setHeaderColor","location","pathname","setState","prevState","window","addEventListener","handleScroll","removeEventListener","pageYOffset","toggleMenu","handleLoginClick","handleLogoutClick","props","loggedInUser","this","className","to","onClick","src","logo","alt","exact","activeClassName","React","Component","mapDispatchToProps","AuthService","Navbar","connect","Footer","currentYear","Date","getFullYear","yearToShow","href","target","rel","TrailPreview","name","country","rating","imgUrls","trail","difficulty","days","distance","start","stop","initialRating","emptySymbol","star","fullSymbol","star_o","readonly","GuidePreview","languages","trails","handleRatingChangerate","rate","guide","langs","en","he","ru","map","lang","join","getLangsToShow","getTrailsToShow","List","items","item","key","trailId","id","add","edit","getMiniTrailObj","addedTrail","isEditMode","trailToEdit","loadTrails","trailService","setTrails","_removeTrail","_HomePage","guidesToShow","sort","b","slice","trailsToShow","style","textDecoration","HomePage","_TrailPage","Fragment","TrailPage","IOS_LANGUAGES","ab","nativeName","aa","af","ak","sq","am","ar","an","hy","as","av","ae","ay","az","bm","ba","eu","be","bn","bh","bi","bs","br","bg","my","ca","ch","ce","ny","zh","cv","kw","co","cr","hr","cs","da","dv","nl","eo","et","ee","fo","fj","fi","fr","ff","gl","ka","de","el","gn","gu","ht","ha","hz","hi","ho","hu","ia","ie","ga","ig","ik","io","is","it","iu","ja","jv","kl","kn","kr","ks","kk","km","ki","rw","ky","kv","kg","ko","ku","kj","la","lb","lg","li","ln","lo","lt","lu","lv","gv","mk","mg","ms","ml","mt","mi","mr","mh","mn","na","nv","nb","nd","ne","ng","nn","no","ii","nr","oc","oj","cu","om","or","os","pa","pi","fa","pl","ps","pt","qu","rm","rn","ro","sa","sc","sd","se","sm","sg","sr","gd","sn","si","sk","sl","so","st","es","su","sw","ss","sv","ta","te","tg","th","ti","bo","tk","tl","tn","tr","ts","tt","tw","ty","ug","uk","ur","uz","ve","vi","vo","wa","cy","wo","fy","xh","yi","yo","za","langCodeToName","code","reviewId","reviews","review","guideId","at","now","addedReview","reviewToEdit","loadReviews","reviewService","setReviews","_removeReview","_addReview","_ReviewAdd","by","txt","title","editMode","handledChange","ev","value","onSend","preventDefault","saveReview","then","getReviewToShow","miniUser","miniGuide","miniTrail","onChange","onSubmit","htmlFor","cols","rows","placeholder","required","currReview","ReviewAdd","_Review","onDeleteGuideReview","removeReview","reviewEditMode","onEdit","editReview","writtenBy","Review","ReviewList","queryStr","order","orderId","_BookingForm","bookForm","trailIdx","peopleCount","date","handelInput","parseInt","handelTrailIdx","setTrailIdx","handelDate","onBook","newOrder","getNewOrder","orderService","buyerUser","trailAt","parse","isConfirmed","isCanceled","isDeleted","userService","selectedTrail","price","trailSelected","idx","minDate","min","BookingForm","currTrail","_BookingPage","reviewsToShow","match","params","setCurrTrailIdx","findIndex","width","reviewers_count","BookingPage","_GuidePage","usersToShow","GuidePage","_LogIn","msg","logIn","password","email","handleChange","onLogIn","userCreds","goBack","LogIn","Order","onDelete","isGuide","orderUpdate","getColorStyle","onCancel","moment","locale","color","isFinished","getStatus","createAt","format","OrdersList","orders","orderType","loadOrders","OrderServer","orderUpdated","_UserProfile","OrderService","UserProfile","stylers","hue","weight","gamma","elementType","visibility","featureType","saturation","lightness","MapContainer","showingInfoWindow","activeMarker","selectedPlace","lat","lng","fromAdd","onMarkerClick","marker","e","updateLatLng","onMapClicked","clickEvent","latLng","styles","mapStyle","zoom","google","initialCenter","position","visible","GoogleApiWrapper","apiKey","_TrailDetailsPage","trailReviews","inputHandler","onEditHandler","onFinishEditHandler","editTrail","loadTrail","some","descriptions","backgroundImage","image","i","isAdmin","removeTrail","TrailDetailsPage","isLoading","loading","TrailAdd","createdAt","split","getLocation","prevstate","resetForm","handleSubmit","saveTrail","App","path","component","Boolean","hostname","localLoggedinUser","initialState","selectedReview","rootReducer","combineReducers","action","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","Store","createStore","applyMiddleware","thunk","ScrollToTop","prevProps","scrollTo","withRouter","ReactDOM","render","store","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.71584db3.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/star.20cd9d73.svg\";","module.exports = __webpack_public_path__ + \"static/media/‏‏star-o.25aa4d70.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.bc512b13.svg\";","import { createBrowserHistory } from \"history\";\r\nconst history = createBrowserHistory();\r\n\r\nexport default history;","import Axios from 'axios';\r\nimport history from '../history';\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n  ? '/api/'\r\n  : '//localhost:3030/api/';\r\n  // : '//localhost:3000/';\r\n\r\nconst axios = Axios.create({\r\n  withCredentials: true,\r\n});\r\n\r\nexport default {\r\n  get(endpoint, data) {\r\n    return ajax(endpoint, 'GET', data);\r\n  },\r\n  post(endpoint, data) {\r\n    return ajax(endpoint, 'POST', data);\r\n  },\r\n  put(endpoint, data) {\r\n    return ajax(endpoint, 'PUT', data);\r\n  },\r\n  delete(endpoint, data) {\r\n    return ajax(endpoint, 'DELETE', data);\r\n  },\r\n};\r\n\r\nasync function ajax(endpoint, method = 'get', data = null) {\r\n  try {\r\n    const res = await axios({\r\n      url: `${BASE_URL}${endpoint}`,\r\n      method,\r\n      data,\r\n    });\r\n    return res.data;\r\n  } catch (err) {\r\n    console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`);\r\n    console.dir(err);\r\n    if (err.response && err.response.status === 401) {\r\n      history.push('/login');\r\n    }\r\n    throw err;\r\n  }\r\n}\r\n","import HttpService from './http.service';\n\n\nconst END_POINT = 'user';\n\nexport default {\n  query,\n  save,\n  remove,\n  getById,\n  getMiniUserObj,\n};\n\nfunction query(filter = null) {\n  const users = HttpService.get(END_POINT, filter);\n  return users;\n}\n\nfunction save(user) {\n  if (user._id) {\n    return HttpService.put(`${END_POINT}/${user._id}`, user);\n  }\n  return HttpService.post(`${END_POINT}`, user);\n}\n\nfunction remove(userID) {\n  return HttpService.delete(`${END_POINT}/${userID}`);\n}\n\nfunction getById(userId) {\n  return HttpService.get(`${END_POINT}/${userId}`);\n}\n\n\nfunction getMiniUserObj(user) {\n  const {\n    _id, userName, fullName, imgUrl,\n  } = user;\n  const miniUser = {\n    _id,\n    userName,\n    fullName,\n    imgUrl,\n  };\n  return miniUser;\n}\n","import HttpService from './http.service';\r\nimport UserService from './user.service';\r\n\r\nexport default {\r\n  login,\r\n  signup,\r\n  logout,\r\n};\r\nasync function login(userCred) {\r\n  const user = await HttpService.post('auth/login', userCred);\r\n  return _handleLogin(user);\r\n}\r\nasync function signup(userCred) {\r\n  const user = await HttpService.post('auth/signup', userCred);\r\n  return _handleLogin(user);\r\n}\r\nasync function logout() {\r\n  await HttpService.post('auth/logout');\r\n  sessionStorage.clear();\r\n}\r\nfunction _handleLogin(user) {\r\n  user = UserService.getMiniUserObj(user);\r\n  sessionStorage.setItem('user', JSON.stringify(user));\r\n  return user;\r\n}\r\n","//services\r\nimport UserService from '../../services/user.service';\r\nimport AuthService from '../../services/auth.service';\r\n\r\nimport { loading, doneLoading } from './loadingActions';\r\n\r\nexport function loadUsers(filter) {\r\n  return async dispatch => {\r\n    try {\r\n      dispatch(loading());\r\n      const users = await UserService.query(filter);\r\n      dispatch(_setUsers(users));\r\n    } catch (err) {\r\n      console.log('UserActions: err in loadUsers', err);\r\n    } finally {\r\n      dispatch(doneLoading());\r\n    }\r\n  };\r\n}\r\n\r\nexport function removeUser(userId) {\r\n  return async dispatch => {\r\n    try {\r\n      await UserService.remove(userId);\r\n      dispatch(_removeUser(userId));\r\n    } catch (err) {\r\n      console.log('UserActions: err in removeUser', err);\r\n    }\r\n  };\r\n}\r\n\r\nexport function addUser(user) {\r\n  return async dispatch => {\r\n    try {\r\n      const addedUser = await UserService.save(user);\r\n      dispatch(_addUser(addedUser));\r\n    } catch (err) {\r\n      console.log('UserActions: err in addUser', err);\r\n    }\r\n  };\r\n}\r\n\r\nexport function updateUser(user) {\r\n  return async dispatch => {\r\n    try {\r\n      await UserService.save(user);\r\n      dispatch(_updateUser(user));\r\n    } catch (err) {\r\n      console.log('UserActions: err in updateUser', err);\r\n    }\r\n  };\r\n}\r\n\r\nexport function setUser(user) {\r\n  return {\r\n    type: 'SET_USER',\r\n    user,\r\n  };\r\n}\r\n\r\nexport function login(userCreds) {\r\n  return async dispatch => {\r\n    const user = await AuthService.login(userCreds);\r\n    dispatch(setUser(user));\r\n  };\r\n}\r\n\r\nexport function signup(userCreds) {\r\n  return async dispatch => {\r\n    const user = await AuthService.signup(userCreds);\r\n    dispatch(setUser(user));\r\n  };\r\n}\r\n\r\nexport function logout() {\r\n  return async dispatch => {\r\n    await AuthService.logout();\r\n    dispatch(setUser(null));\r\n  };\r\n}\r\n\r\nfunction _setUsers(users) {\r\n  return {\r\n    type: 'SET_USERS',\r\n    users,\r\n  };\r\n}\r\n\r\nfunction _removeUser(userId) {\r\n  return {\r\n    type: 'USER_REMOVE',\r\n    userId,\r\n  };\r\n}\r\n\r\nfunction _addUser(user) {\r\n  return {\r\n    type: 'USER_ADD',\r\n    user,\r\n  };\r\n}\r\n\r\nfunction _updateUser(user) {\r\n  return {\r\n    type: 'SAVE_USER',\r\n    user,\r\n  };\r\n}\r\n","export function loading() {\r\n  return { type: 'LOADING_START' };\r\n}\r\n\r\nexport function doneLoading() {\r\n  return { type: 'LOADING_DONE' };\r\n}\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { NavLink, Link } from 'react-router-dom';\r\nimport { logout } from '../store/actions/userAction';\r\nimport history from '../history';\r\nimport logo from '../logo.svg';\r\n\r\nclass _Navbar extends React.Component {\r\n  state = {\r\n    headerColorClass: '',\r\n    menuActiveClass: '',\r\n    navOpenedClass: '',\r\n    // loggedInUser: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    // this.setState(prevState => ({\r\n    //   ...prevState,\r\n    //   loggedInUser: this.props.loggedInUser,\r\n    // }), () => { console.log(this.state.loggedInUser);\r\n    // });\r\n  }\r\n\r\n  setHeaderColor = () => {\r\n    if (history.location.pathname === '/') {\r\n      this.setState(prevState => ({ ...prevState, headerColorClass: '' }));\r\n      window.addEventListener('scroll', this.handleScroll);\r\n    } else {\r\n      window.removeEventListener('scroll', this.handleScroll);\r\n      this.setState(prevState => ({ ...prevState, headerColorClass: 'header-colored' }));\r\n    }\r\n  }\r\n\r\n\r\n  handleScroll = () => {\r\n    if (window.pageYOffset > 50) {\r\n      if (!this.state.headerColorClass) {\r\n        this.setState(prevState => ({ ...prevState, headerColorClass: 'header-colored' }));\r\n      }\r\n    } else if (this.state.headerColorClass) {\r\n      this.setState(prevState => ({ ...prevState, headerColorClass: '' }));\r\n    }\r\n  }\r\n\r\n  toggleMenu = () => {\r\n    this.setState(prevState => ({\r\n      ...prevState,\r\n      menuActiveClass: prevState.menuActiveClass === 'is-active' ? '' : 'is-active',\r\n      navOpenedClass: prevState.navOpenedClass === 'opened' ? '' : 'opened',\r\n    }));\r\n  }\r\n\r\n  handleLoginClick = () => {\r\n    history.push('/login');\r\n  }\r\n\r\n  handleLogoutClick = () => {\r\n    this.props.logout();\r\n    this.setState(prevState => ({ ...prevState, loggedInUser: null }));\r\n  }\r\n\r\n  render() {\r\n    const { loggedInUser } = this.props;\r\n    return (\r\n      <header className={ `main-header ${this.state.headerColorClass}` }>\r\n          <Link\r\n          className=\"main-header-home-link\"\r\n          to=\"/\"\r\n          onClick={ () => { history.push('/'); } }>\r\n            {/* <h1 className=\"main-header-logo\">\r\n              Hike & Guide\r\n            </h1> */}\r\n            <img src={ logo } alt=\"HIKE&GUIDE\" className=\"main-header-logo\"/>\r\n          </Link>\r\n          <nav\r\n          className={ `main-header-nav ${this.state.navOpenedClass}` }\r\n          onClick={ () => this.toggleMenu() }>\r\n            <NavLink exact className=\"main-header-link\" to=\"/\" activeClassName=\"selected\">Home</NavLink>\r\n            <NavLink className=\"main-header-link\" to=\"/trail\" activeClassName=\"selected\">Trails</NavLink>\r\n            <NavLink className=\"main-header-link\" to=\"/guide\" activeClassName=\"selected\">Guides</NavLink>\r\n            <div\r\n              className=\"main-header-link\"\r\n              onClick={ loggedInUser ? this.handleLogoutClick : this.handleLoginClick }>\r\n              {/* to={ loggedInUser ? '/logout' : '/login' }\r\n              activeClassName=\"selected\"> */}\r\n                {loggedInUser ? 'Logout' : 'Login'}\r\n            </div>\r\n            { loggedInUser\r\n              && <NavLink\r\n                  to={ `/profile/${loggedInUser._id}` }\r\n                  className=\"main-header-link\"\r\n                  activeClassName=\"selected\"\r\n                >\r\n                  <img src={ loggedInUser.imgUrl } alt={ loggedInUser.fullName } className=\"user-profile-link-image\"/>\r\n                </NavLink\r\n            >}\r\n          </nav>\r\n          <button\r\n          className={ `hamburger hamburger--spin ${this.state.menuActiveClass}` }\r\n          type=\"button\"\r\n          onClick={ () => this.toggleMenu() }>\r\n            <span className=\"hamburger-box\">\r\n              <span className=\"hamburger-inner\"></span>\r\n            </span>\r\n          </button>\r\n        </header>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  loggedInUser: state.user.loggedInUser,\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  logout,\r\n};\r\n\r\nexport const Navbar = connect(mapStateToProps, mapDispatchToProps)(_Navbar);\r\n","import React from 'react';\r\n\r\nexport const Footer = () => {\r\n  const currentYear = new Date().getFullYear();\r\n  const yearToShow = currentYear === 2020 ? '2020' : `2020-${currentYear}`;\r\n  return (\r\n  <footer className=\"main-footer\">\r\n    <p className=\"main-footer-text\">\r\n  <span>&copy; { yearToShow } </span>\r\n      <a className=\"main-footer-link\" href=\"https://github.com/nguyaniv/Hike_N_Guide/graphs/contributors\" target=\"_blank\" rel=\"noopener noreferrer\">Hike & Guide contributors.</a>\r\n    </p>\r\n  </footer>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Rating from 'react-rating';\r\n\r\n//Images\r\nimport star from '../img/star.svg';\r\nimport star_o from '../img/‏‏star-o.svg';\r\n\r\nexport class TrailPreview extends React.Component {\r\n  state = {\r\n    _id: '',\r\n    name: '',\r\n    country: '',\r\n    rating: 0,\r\n    imgUrls: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState(this.props.trail);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      _id,\r\n      name,\r\n      country,\r\n      difficulty,\r\n      days,\r\n      distance,\r\n      rating,\r\n      imgUrls,\r\n    } = this.state;\r\n    return (\r\n      <article className=\"trail-preview\">\r\n        <Link to={ `/trail/${_id}` }>\r\n          <img className=\"trail-preview-image\" src={ imgUrls[0] } alt={ name } />\r\n          <div className=\"trail-preview-info\">\r\n            <div className=\"trail-preview-main-info\">\r\n              <span className=\"trail-preview-name\">{name}</span>\r\n              <Rating className=\"trail-preview-rating\" start={ 0 }\r\n                stop={ 5 }\r\n                initialRating={ rating }\r\n                emptySymbol={ <img className=\"trail-preview-full-star\" src={ star } alt=\"star\" /> }\r\n                fullSymbol={ <img className=\"trail-preview-star\" src={ star_o } alt=\"full-star\" /> }\r\n                readonly\r\n              />\r\n            </div>\r\n              <p className=\"trail-preview-row\">\r\n                <span className=\"trail-preview-heading\">Country: </span>{country}\r\n              </p>\r\n              <p className=\"trail-preview-row\">\r\n                <span className=\"trail-preview-heading\">Difficulty: </span>{difficulty}\r\n              </p>\r\n              <p className=\"trail-preview-row\">\r\n                <span className=\"trail-preview-heading\">Days: </span>{days}\r\n              </p>\r\n              <p className=\"trail-preview-row\">\r\n                <span className=\"trail-preview-heading\">Distance: </span>{distance}\r\n              </p>\r\n          </div>\r\n        </Link>\r\n      </article>);\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Rating from 'react-rating';\r\n\r\n//Images\r\nimport star from '../img/star.svg';\r\nimport star_o from '../img/‏‏star-o.svg';\r\n\r\nexport class GuidePreview extends React.Component {\r\n  state = {\r\n    _id: '',\r\n    fullName: '',\r\n    rating: 0,\r\n    languages: [],\r\n    trails: [],\r\n    imgUrl: '',\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState(this.props.guide);\r\n  }\r\n\r\n  handleRatingChangerate = rate => {\r\n    this.setState(prevState => ({ ...prevState, rating: rate }));\r\n  }\r\n\r\n  getLangsToShow() {\r\n    const langs = {\r\n      en: 'English',\r\n      he: 'Hebrew',\r\n      ru: 'Russian',\r\n      // enough for demonstration purposes\r\n    };\r\n    const langsToShow = this.state.languages\r\n      .map(lang => `${langs[lang]}` || lang)\r\n      .join(', ');\r\n    return langsToShow;\r\n  }\r\n\r\n  getTrailsToShow() {\r\n    if (!this.state.trails) return;\r\n    // eslint-disable-next-line consistent-return\r\n    return this.state.trails\r\n      .map(trail => `${trail.name}`)\r\n      .join(', ');\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      _id,\r\n      fullName,\r\n      rating,\r\n      imgUrl,\r\n    } = this.state;\r\n    return (\r\n      <article className=\"guide-preview\">\r\n        <Link to={ `/booking/${_id}` }>\r\n          <img className=\"guide-preview-image square-ratio\" src={ imgUrl } alt={ fullName } />\r\n          <div className=\"guide-preview-info\">\r\n            <div className=\"guide-preview-main-info\">\r\n              <span className=\"guide-preview-name\">{fullName}</span>\r\n              <Rating start={ 0 }\r\n                stop={ 5 }\r\n                initialRating={ rating }\r\n                emptySymbol={ <img className=\"guide-preview-full-star\" src={ star } alt=\"star\" /> }\r\n                fullSymbol={ <img className=\"guide-preview-star\" src={ star_o } alt=\"full-star\" /> }\r\n                readonly\r\n              />\r\n            </div>\r\n            <p className=\"guide-preview-languages\">\r\n              <span className=\"guide-preview-heading\">\r\n                Languages:&nbsp;\r\n              </span>{ this.getLangsToShow() }\r\n            </p>\r\n            <p className=\"guide-preview-trails\">\r\n              <span className=\"guide-preview-heading\">\r\n                Trails:&nbsp;\r\n              </span>{ this.getTrailsToShow() }\r\n            </p>\r\n          </div>\r\n        </Link>\r\n      </article>);\r\n  }\r\n}\r\n","import React from 'react';\nimport { TrailPreview } from './TrailPreview';\nimport { GuidePreview } from './GuidePreview';\n\nexport const List = props => (\n        <div className=\"preview-list\">\n            { props.items.map(item => {\n              if (item.location) return <TrailPreview key={ item._id } trail={ item } />;\n              if (item.userName) return <GuidePreview key={ item._id } guide={ item } />;\n              return '';\n            }) }\n        </div>\n);\n","import HttpService from './http.service';\r\n\r\nconst END_POINT = 'trail';\r\n\r\nexport default {\r\n  query,\r\n  getById,\r\n  remove,\r\n  add,\r\n  edit,\r\n  getMiniTrailObj,\r\n};\r\n\r\nfunction query() {\r\n  return HttpService.get(END_POINT);\r\n}\r\n\r\nfunction getById(trailId) {\r\n  return HttpService.get(`${END_POINT}/${trailId}`);\r\n}\r\n\r\nfunction remove(id) {\r\n  return HttpService.delete(`${END_POINT}/${id}`);\r\n}\r\n\r\nasync function add(trail) {\r\n  const addedTrail = await HttpService.post(END_POINT, trail);\r\n  return addedTrail;\r\n}\r\n\r\nasync function edit(trail) {\r\n  trail.isEditMode = false;\r\n  const trailToEdit = await HttpService.put(`${END_POINT}/${trail._id}`, trail);\r\n  return trailToEdit;\r\n}\r\n\r\nfunction getMiniTrailObj(trail) {\r\n  const { _id, name } = trail;\r\n  const miniTrail = {\r\n    _id,\r\n    name,\r\n  };\r\n  return miniTrail;\r\n}\r\n","import trailService from '../../services/trail.service';\r\n\r\nexport function loadTrails() {\r\n  return async dispatch => {\r\n    try {\r\n      const trails = await trailService.query();\r\n      dispatch(setTrails(trails));\r\n    } catch (err) {\r\n      console.log('ReviewActions: err in loadTrails', err);\r\n    }\r\n  };\r\n}\r\n\r\nexport function loadTrail(id) {\r\n  return async dispatch => {\r\n    try {\r\n      const trail = await trailService.getById(id);\r\n      dispatch({ type: 'SET_TRAIL', trail });\r\n    } catch (err) {\r\n      console.log('ops', err);\r\n    }\r\n  };\r\n}\r\n\r\n\r\n\r\nexport function saveTrail(trail) {\r\n  return async dispatch => {\r\n    try {\r\n      const currTrail = await trailService.add(trail);\r\n      dispatch({\r\n        type: 'ADD',\r\n        trail: {\r\n          ...currTrail,\r\n        },\r\n      });\r\n    } catch (err) {\r\n      console.log('error', err);\r\n    }\r\n  };\r\n}\r\n\r\n\r\nexport function editTrail(trail) {\r\n  return async dispatch => {\r\n    try {\r\n      const currTrail = await trailService.edit(trail);\r\n      dispatch({\r\n        type: 'EDIT',\r\n        trail: {\r\n          currTrail,\r\n        },\r\n      });\r\n    } catch (err) {\r\n      console.log('error', err);\r\n    }\r\n  };\r\n}\r\n\r\n\r\nexport function removeTrail(trailId) {\r\n  return async dispatch => {\r\n    await trailService.remove(trailId);\r\n    dispatch(_removeTrail(trailId));\r\n  };\r\n}\r\n\r\n\r\nfunction setTrails(trails) {\r\n  return {\r\n    type: 'SET_TRAILS',\r\n    trails,\r\n  };\r\n}\r\n\r\n\r\nfunction _removeTrail(trailId) {\r\n  return {\r\n    type: 'DELETE',\r\n    trailId,\r\n  };\r\n}\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { List } from '../cmps/List';\r\nimport { loadTrails } from '../store/actions/trailsActions';\r\nimport { loadUsers } from '../store/actions/userAction';\r\n\r\nclass _HomePage extends Component {\r\n  componentDidMount() {\r\n    this.props.loadTrails();\r\n    this.props.loadUsers();\r\n  }\r\n\r\n  render() {\r\n    const { trails, users } = this.props;\r\n    const guides = users.filter(user => user.trails);\r\n    const guidesToShow = guides.sort((a, b) => b.rating - a.rating).slice(0, 8);\r\n    const trailsToShow = trails.sort((a, b) => b.rating - a.rating).slice(0, 6);\r\n    return (\r\n      <main className=\"homepage\">\r\n        <div className=\"homepage-header\">\r\n          <h2 className=\"homepage-main-heading\">Find hiking trails and guides worldwide</h2>\r\n        </div>\r\n        <h2 className=\"homepage-list-heading\">Popular Trails</h2>\r\n        <List items={ trailsToShow }/>\r\n        <Link to=\"/trail\" style={ { textDecoration: 'none' } }>\r\n          <button className=\"homepage-show-more-button\">\r\n            Show all\r\n          </button>\r\n        </Link>\r\n        <h2 className=\"homepage-list-heading\">Popular Guides</h2>\r\n        <List items={ guidesToShow }/>\r\n        <Link to=\"/guide\" style={ { textDecoration: 'none' } }>\r\n          <button className=\"homepage-show-more-button\">\r\n            Show all\r\n          </button>\r\n        </Link>\r\n      </main>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  trails: state.trail.trails,\r\n  users: state.user.users,\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  loadTrails,\r\n  loadUsers,\r\n};\r\nexport const HomePage = connect(mapStateToProps, mapDispatchToProps)(_HomePage);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n// import TrailsFilter from '../cmps/TrailsFilter';\r\nimport { List } from '../cmps/List';\r\n// import { ReviewList } from '../cmps/ReviewList';\r\n\r\n\r\nimport { loadTrails } from '../store/actions/trailsActions';\r\n\r\n\r\nclass _TrailPage extends Component {\r\n  componentDidMount() {\r\n    this.props.loadTrails();\r\n  }\r\n\r\n  render() {\r\n    const { trails } = this.props;\r\n    return (\r\n\r\n            <main className=\"trail-page\">\r\n                {this.props.trails && <React.Fragment>\r\n                    <h2 className=\"trail-page-main-heading\">Choose your trail</h2>\r\n                    {/* <Link to=\"trail/add\">Add Trail</Link> */}\r\n{/* {    console.log(this.props)} */}\r\n                    <React.Fragment>\r\n                        {/* < TrailAdd /> */}\r\n\r\n                    </React.Fragment>\r\n\r\n\r\n                    {/* country filter section starts here */}\r\n\r\n                    <section>\r\n                        {/* <input name=\"country\"  type=\"text\" placeholder=\"search trails in country\" /> */}\r\n                    </section>\r\n\r\n                    {/* country filter section ends here */}\r\n\r\n\r\n                    {/* side-filter starts here */}\r\n                    {/* <TrailsFilter /> */}\r\n                    {/* side-filter ends here */}\r\n\r\n\r\n                    {/* previews */}\r\n\r\n                    {/* uncomment when previews are ready */}\r\n                    <List items={ trails } />\r\n                </React.Fragment>}\r\n            </main>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  trails: state.trail.trails,\r\n});\r\nconst mapDispatchToProps = {\r\n  loadTrails,\r\n};\r\nexport const TrailPage = connect(mapStateToProps, mapDispatchToProps)(_TrailPage);\r\n","\r\nconst IOS_LANGUAGES = {\r\n  ab: {\r\n    name: 'Abkhaz',\r\n    nativeName: 'аҧсуа',\r\n  },\r\n  aa: {\r\n    name: 'Afar',\r\n    nativeName: 'Afaraf',\r\n  },\r\n  af: {\r\n    name: 'Afrikaans',\r\n    nativeName: 'Afrikaans',\r\n  },\r\n  ak: {\r\n    name: 'Akan',\r\n    nativeName: 'Akan',\r\n  },\r\n  sq: {\r\n    name: 'Albanian',\r\n    nativeName: 'Shqip',\r\n  },\r\n  am: {\r\n    name: 'Amharic',\r\n    nativeName: 'አማርኛ',\r\n  },\r\n  ar: {\r\n    name: 'Arabic',\r\n    nativeName: 'العربية',\r\n  },\r\n  an: {\r\n    name: 'Aragonese',\r\n    nativeName: 'Aragonés',\r\n  },\r\n  hy: {\r\n    name: 'Armenian',\r\n    nativeName: 'Հայերեն',\r\n  },\r\n  as: {\r\n    name: 'Assamese',\r\n    nativeName: 'অসমীয়া',\r\n  },\r\n  av: {\r\n    name: 'Avaric',\r\n    nativeName: 'авар мацӀ, магӀарул мацӀ',\r\n  },\r\n  ae: {\r\n    name: 'Avestan',\r\n    nativeName: 'avesta',\r\n  },\r\n  ay: {\r\n    name: 'Aymara',\r\n    nativeName: 'aymar aru',\r\n  },\r\n  az: {\r\n    name: 'Azerbaijani',\r\n    nativeName: 'azərbaycan dili',\r\n  },\r\n  bm: {\r\n    name: 'Bambara',\r\n    nativeName: 'bamanankan',\r\n  },\r\n  ba: {\r\n    name: 'Bashkir',\r\n    nativeName: 'башҡорт теле',\r\n  },\r\n  eu: {\r\n    name: 'Basque',\r\n    nativeName: 'euskara, euskera',\r\n  },\r\n  be: {\r\n    name: 'Belarusian',\r\n    nativeName: 'Беларуская',\r\n  },\r\n  bn: {\r\n    name: 'Bengali',\r\n    nativeName: 'বাংলা',\r\n  },\r\n  bh: {\r\n    name: 'Bihari',\r\n    nativeName: 'भोजपुरी',\r\n  },\r\n  bi: {\r\n    name: 'Bislama',\r\n    nativeName: 'Bislama',\r\n  },\r\n  bs: {\r\n    name: 'Bosnian',\r\n    nativeName: 'bosanski jezik',\r\n  },\r\n  br: {\r\n    name: 'Breton',\r\n    nativeName: 'brezhoneg',\r\n  },\r\n  bg: {\r\n    name: 'Bulgarian',\r\n    nativeName: 'български език',\r\n  },\r\n  my: {\r\n    name: 'Burmese',\r\n    nativeName: 'ဗမာစာ',\r\n  },\r\n  ca: {\r\n    name: 'Catalan; Valencian',\r\n    nativeName: 'Català',\r\n  },\r\n  ch: {\r\n    name: 'Chamorro',\r\n    nativeName: 'Chamoru',\r\n  },\r\n  ce: {\r\n    name: 'Chechen',\r\n    nativeName: 'нохчийн мотт',\r\n  },\r\n  ny: {\r\n    name: 'Chichewa; Chewa; Nyanja',\r\n    nativeName: 'chiCheŵa, chinyanja',\r\n  },\r\n  zh: {\r\n    name: 'Chinese',\r\n    nativeName: '中文 (Zhōngwén), 汉语, 漢語',\r\n  },\r\n  cv: {\r\n    name: 'Chuvash',\r\n    nativeName: 'чӑваш чӗлхи',\r\n  },\r\n  kw: {\r\n    name: 'Cornish',\r\n    nativeName: 'Kernewek',\r\n  },\r\n  co: {\r\n    name: 'Corsican',\r\n    nativeName: 'corsu, lingua corsa',\r\n  },\r\n  cr: {\r\n    name: 'Cree',\r\n    nativeName: 'ᓀᐦᐃᔭᐍᐏᐣ',\r\n  },\r\n  hr: {\r\n    name: 'Croatian',\r\n    nativeName: 'hrvatski',\r\n  },\r\n  cs: {\r\n    name: 'Czech',\r\n    nativeName: 'česky, čeština',\r\n  },\r\n  da: {\r\n    name: 'Danish',\r\n    nativeName: 'dansk',\r\n  },\r\n  dv: {\r\n    name: 'Divehi; Dhivehi; Maldivian;',\r\n    nativeName: 'ދިވެހި',\r\n  },\r\n  nl: {\r\n    name: 'Dutch',\r\n    nativeName: 'Nederlands, Vlaams',\r\n  },\r\n  en: {\r\n    name: 'English',\r\n    nativeName: 'English',\r\n  },\r\n  eo: {\r\n    name: 'Esperanto',\r\n    nativeName: 'Esperanto',\r\n  },\r\n  et: {\r\n    name: 'Estonian',\r\n    nativeName: 'eesti, eesti keel',\r\n  },\r\n  ee: {\r\n    name: 'Ewe',\r\n    nativeName: 'Eʋegbe',\r\n  },\r\n  fo: {\r\n    name: 'Faroese',\r\n    nativeName: 'føroyskt',\r\n  },\r\n  fj: {\r\n    name: 'Fijian',\r\n    nativeName: 'vosa Vakaviti',\r\n  },\r\n  fi: {\r\n    name: 'Finnish',\r\n    nativeName: 'suomi, suomen kieli',\r\n  },\r\n  fr: {\r\n    name: 'French',\r\n    nativeName: 'français, langue française',\r\n  },\r\n  ff: {\r\n    name: 'Fula; Fulah; Pulaar; Pular',\r\n    nativeName: 'Fulfulde, Pulaar, Pular',\r\n  },\r\n  gl: {\r\n    name: 'Galician',\r\n    nativeName: 'Galego',\r\n  },\r\n  ka: {\r\n    name: 'Georgian',\r\n    nativeName: 'ქართული',\r\n  },\r\n  de: {\r\n    name: 'German',\r\n    nativeName: 'Deutsch',\r\n  },\r\n  el: {\r\n    name: 'Greek, Modern',\r\n    nativeName: 'Ελληνικά',\r\n  },\r\n  gn: {\r\n    name: 'Guaraní',\r\n    nativeName: 'Avañeẽ',\r\n  },\r\n  gu: {\r\n    name: 'Gujarati',\r\n    nativeName: 'ગુજરાતી',\r\n  },\r\n  ht: {\r\n    name: 'Haitian; Haitian Creole',\r\n    nativeName: 'Kreyòl ayisyen',\r\n  },\r\n  ha: {\r\n    name: 'Hausa',\r\n    nativeName: 'Hausa, هَوُسَ',\r\n  },\r\n  he: {\r\n    name: 'Hebrew',\r\n    nativeName: 'עברית',\r\n  },\r\n  hz: {\r\n    name: 'Herero',\r\n    nativeName: 'Otjiherero',\r\n  },\r\n  hi: {\r\n    name: 'Hindi',\r\n    nativeName: 'हिन्दी, हिंदी',\r\n  },\r\n  ho: {\r\n    name: 'Hiri Motu',\r\n    nativeName: 'Hiri Motu',\r\n  },\r\n  hu: {\r\n    name: 'Hungarian',\r\n    nativeName: 'Magyar',\r\n  },\r\n  ia: {\r\n    name: 'Interlingua',\r\n    nativeName: 'Interlingua',\r\n  },\r\n  id: {\r\n    name: 'Indonesian',\r\n    nativeName: 'Bahasa Indonesia',\r\n  },\r\n  ie: {\r\n    name: 'Interlingue',\r\n    nativeName: 'Originally called Occidental; then Interlingue after WWII',\r\n  },\r\n  ga: {\r\n    name: 'Irish',\r\n    nativeName: 'Gaeilge',\r\n  },\r\n  ig: {\r\n    name: 'Igbo',\r\n    nativeName: 'Asụsụ Igbo',\r\n  },\r\n  ik: {\r\n    name: 'Inupiaq',\r\n    nativeName: 'Iñupiaq, Iñupiatun',\r\n  },\r\n  io: {\r\n    name: 'Ido',\r\n    nativeName: 'Ido',\r\n  },\r\n  is: {\r\n    name: 'Icelandic',\r\n    nativeName: 'Íslenska',\r\n  },\r\n  it: {\r\n    name: 'Italian',\r\n    nativeName: 'Italiano',\r\n  },\r\n  iu: {\r\n    name: 'Inuktitut',\r\n    nativeName: 'ᐃᓄᒃᑎᑐᑦ',\r\n  },\r\n  ja: {\r\n    name: 'Japanese',\r\n    nativeName: '日本語 (にほんご／にっぽんご)',\r\n  },\r\n  jv: {\r\n    name: 'Javanese',\r\n    nativeName: 'basa Jawa',\r\n  },\r\n  kl: {\r\n    name: 'Kalaallisut, Greenlandic',\r\n    nativeName: 'kalaallisut, kalaallit oqaasii',\r\n  },\r\n  kn: {\r\n    name: 'Kannada',\r\n    nativeName: 'ಕನ್ನಡ',\r\n  },\r\n  kr: {\r\n    name: 'Kanuri',\r\n    nativeName: 'Kanuri',\r\n  },\r\n  ks: {\r\n    name: 'Kashmiri',\r\n    nativeName: 'कश्मीरी, كشميري‎',\r\n  },\r\n  kk: {\r\n    name: 'Kazakh',\r\n    nativeName: 'Қазақ тілі',\r\n  },\r\n  km: {\r\n    name: 'Khmer',\r\n    nativeName: 'ភាសាខ្មែរ',\r\n  },\r\n  ki: {\r\n    name: 'Kikuyu, Gikuyu',\r\n    nativeName: 'Gĩkũyũ',\r\n  },\r\n  rw: {\r\n    name: 'Kinyarwanda',\r\n    nativeName: 'Ikinyarwanda',\r\n  },\r\n  ky: {\r\n    name: 'Kirghiz, Kyrgyz',\r\n    nativeName: 'кыргыз тили',\r\n  },\r\n  kv: {\r\n    name: 'Komi',\r\n    nativeName: 'коми кыв',\r\n  },\r\n  kg: {\r\n    name: 'Kongo',\r\n    nativeName: 'KiKongo',\r\n  },\r\n  ko: {\r\n    name: 'Korean',\r\n    nativeName: '한국어 (韓國語), 조선말 (朝鮮語)',\r\n  },\r\n  ku: {\r\n    name: 'Kurdish',\r\n    nativeName: 'Kurdî, كوردی‎',\r\n  },\r\n  kj: {\r\n    name: 'Kwanyama, Kuanyama',\r\n    nativeName: 'Kuanyama',\r\n  },\r\n  la: {\r\n    name: 'Latin',\r\n    nativeName: 'latine, lingua latina',\r\n  },\r\n  lb: {\r\n    name: 'Luxembourgish, Letzeburgesch',\r\n    nativeName: 'Lëtzebuergesch',\r\n  },\r\n  lg: {\r\n    name: 'Luganda',\r\n    nativeName: 'Luganda',\r\n  },\r\n  li: {\r\n    name: 'Limburgish, Limburgan, Limburger',\r\n    nativeName: 'Limburgs',\r\n  },\r\n  ln: {\r\n    name: 'Lingala',\r\n    nativeName: 'Lingála',\r\n  },\r\n  lo: {\r\n    name: 'Lao',\r\n    nativeName: 'ພາສາລາວ',\r\n  },\r\n  lt: {\r\n    name: 'Lithuanian',\r\n    nativeName: 'lietuvių kalba',\r\n  },\r\n  lu: {\r\n    name: 'Luba-Katanga',\r\n    nativeName: '',\r\n  },\r\n  lv: {\r\n    name: 'Latvian',\r\n    nativeName: 'latviešu valoda',\r\n  },\r\n  gv: {\r\n    name: 'Manx',\r\n    nativeName: 'Gaelg, Gailck',\r\n  },\r\n  mk: {\r\n    name: 'Macedonian',\r\n    nativeName: 'македонски јазик',\r\n  },\r\n  mg: {\r\n    name: 'Malagasy',\r\n    nativeName: 'Malagasy fiteny',\r\n  },\r\n  ms: {\r\n    name: 'Malay',\r\n    nativeName: 'bahasa Melayu, بهاس ملايو‎',\r\n  },\r\n  ml: {\r\n    name: 'Malayalam',\r\n    nativeName: 'മലയാളം',\r\n  },\r\n  mt: {\r\n    name: 'Maltese',\r\n    nativeName: 'Malti',\r\n  },\r\n  mi: {\r\n    name: 'Māori',\r\n    nativeName: 'te reo Māori',\r\n  },\r\n  mr: {\r\n    name: 'Marathi (Marāṭhī)',\r\n    nativeName: 'मराठी',\r\n  },\r\n  mh: {\r\n    name: 'Marshallese',\r\n    nativeName: 'Kajin M̧ajeļ',\r\n  },\r\n  mn: {\r\n    name: 'Mongolian',\r\n    nativeName: 'монгол',\r\n  },\r\n  na: {\r\n    name: 'Nauru',\r\n    nativeName: 'Ekakairũ Naoero',\r\n  },\r\n  nv: {\r\n    name: 'Navajo, Navaho',\r\n    nativeName: 'Diné bizaad, Dinékʼehǰí',\r\n  },\r\n  nb: {\r\n    name: 'Norwegian Bokmål',\r\n    nativeName: 'Norsk bokmål',\r\n  },\r\n  nd: {\r\n    name: 'North Ndebele',\r\n    nativeName: 'isiNdebele',\r\n  },\r\n  ne: {\r\n    name: 'Nepali',\r\n    nativeName: 'नेपाली',\r\n  },\r\n  ng: {\r\n    name: 'Ndonga',\r\n    nativeName: 'Owambo',\r\n  },\r\n  nn: {\r\n    name: 'Norwegian Nynorsk',\r\n    nativeName: 'Norsk nynorsk',\r\n  },\r\n  no: {\r\n    name: 'Norwegian',\r\n    nativeName: 'Norsk',\r\n  },\r\n  ii: {\r\n    name: 'Nuosu',\r\n    nativeName: 'ꆈꌠ꒿ Nuosuhxop',\r\n  },\r\n  nr: {\r\n    name: 'South Ndebele',\r\n    nativeName: 'isiNdebele',\r\n  },\r\n  oc: {\r\n    name: 'Occitan',\r\n    nativeName: 'Occitan',\r\n  },\r\n  oj: {\r\n    name: 'Ojibwe, Ojibwa',\r\n    nativeName: 'ᐊᓂᔑᓈᐯᒧᐎᓐ',\r\n  },\r\n  cu: {\r\n    name: 'Old Church Slavonic, Church Slavic, Church Slavonic, Old Bulgarian, Old Slavonic',\r\n    nativeName: 'ѩзыкъ словѣньскъ',\r\n  },\r\n  om: {\r\n    name: 'Oromo',\r\n    nativeName: 'Afaan Oromoo',\r\n  },\r\n  or: {\r\n    name: 'Oriya',\r\n    nativeName: 'ଓଡ଼ିଆ',\r\n  },\r\n  os: {\r\n    name: 'Ossetian, Ossetic',\r\n    nativeName: 'ирон æвзаг',\r\n  },\r\n  pa: {\r\n    name: 'Panjabi, Punjabi',\r\n    nativeName: 'ਪੰਜਾਬੀ, پنجابی‎',\r\n  },\r\n  pi: {\r\n    name: 'Pāli',\r\n    nativeName: 'पाऴि',\r\n  },\r\n  fa: {\r\n    name: 'Persian',\r\n    nativeName: 'فارسی',\r\n  },\r\n  pl: {\r\n    name: 'Polish',\r\n    nativeName: 'polski',\r\n  },\r\n  ps: {\r\n    name: 'Pashto, Pushto',\r\n    nativeName: 'پښتو',\r\n  },\r\n  pt: {\r\n    name: 'Portuguese',\r\n    nativeName: 'Português',\r\n  },\r\n  qu: {\r\n    name: 'Quechua',\r\n    nativeName: 'Runa Simi, Kichwa',\r\n  },\r\n  rm: {\r\n    name: 'Romansh',\r\n    nativeName: 'rumantsch grischun',\r\n  },\r\n  rn: {\r\n    name: 'Kirundi',\r\n    nativeName: 'kiRundi',\r\n  },\r\n  ro: {\r\n    name: 'Romanian, Moldavian, Moldovan',\r\n    nativeName: 'română',\r\n  },\r\n  ru: {\r\n    name: 'Russian',\r\n    nativeName: 'русский язык',\r\n  },\r\n  sa: {\r\n    name: 'Sanskrit (Saṁskṛta)',\r\n    nativeName: 'संस्कृतम्',\r\n  },\r\n  sc: {\r\n    name: 'Sardinian',\r\n    nativeName: 'sardu',\r\n  },\r\n  sd: {\r\n    name: 'Sindhi',\r\n    nativeName: 'सिन्धी, سنڌي، سندھی‎',\r\n  },\r\n  se: {\r\n    name: 'Northern Sami',\r\n    nativeName: 'Davvisámegiella',\r\n  },\r\n  sm: {\r\n    name: 'Samoan',\r\n    nativeName: 'gagana faa Samoa',\r\n  },\r\n  sg: {\r\n    name: 'Sango',\r\n    nativeName: 'yângâ tî sängö',\r\n  },\r\n  sr: {\r\n    name: 'Serbian',\r\n    nativeName: 'српски језик',\r\n  },\r\n  gd: {\r\n    name: 'Scottish Gaelic; Gaelic',\r\n    nativeName: 'Gàidhlig',\r\n  },\r\n  sn: {\r\n    name: 'Shona',\r\n    nativeName: 'chiShona',\r\n  },\r\n  si: {\r\n    name: 'Sinhala, Sinhalese',\r\n    nativeName: 'සිංහල',\r\n  },\r\n  sk: {\r\n    name: 'Slovak',\r\n    nativeName: 'slovenčina',\r\n  },\r\n  sl: {\r\n    name: 'Slovene',\r\n    nativeName: 'slovenščina',\r\n  },\r\n  so: {\r\n    name: 'Somali',\r\n    nativeName: 'Soomaaliga, af Soomaali',\r\n  },\r\n  st: {\r\n    name: 'Southern Sotho',\r\n    nativeName: 'Sesotho',\r\n  },\r\n  es: {\r\n    name: 'Spanish; Castilian',\r\n    nativeName: 'español, castellano',\r\n  },\r\n  su: {\r\n    name: 'Sundanese',\r\n    nativeName: 'Basa Sunda',\r\n  },\r\n  sw: {\r\n    name: 'Swahili',\r\n    nativeName: 'Kiswahili',\r\n  },\r\n  ss: {\r\n    name: 'Swati',\r\n    nativeName: 'SiSwati',\r\n  },\r\n  sv: {\r\n    name: 'Swedish',\r\n    nativeName: 'svenska',\r\n  },\r\n  ta: {\r\n    name: 'Tamil',\r\n    nativeName: 'தமிழ்',\r\n  },\r\n  te: {\r\n    name: 'Telugu',\r\n    nativeName: 'తెలుగు',\r\n  },\r\n  tg: {\r\n    name: 'Tajik',\r\n    nativeName: 'тоҷикӣ, toğikī, تاجیکی‎',\r\n  },\r\n  th: {\r\n    name: 'Thai',\r\n    nativeName: 'ไทย',\r\n  },\r\n  ti: {\r\n    name: 'Tigrinya',\r\n    nativeName: 'ትግርኛ',\r\n  },\r\n  bo: {\r\n    name: 'Tibetan Standard, Tibetan, Central',\r\n    nativeName: 'བོད་ཡིག',\r\n  },\r\n  tk: {\r\n    name: 'Turkmen',\r\n    nativeName: 'Türkmen, Түркмен',\r\n  },\r\n  tl: {\r\n    name: 'Tagalog',\r\n    nativeName: 'Wikang Tagalog, ᜏᜒᜃᜅ᜔ ᜆᜄᜎᜓᜄ᜔',\r\n  },\r\n  tn: {\r\n    name: 'Tswana',\r\n    nativeName: 'Setswana',\r\n  },\r\n  to: {\r\n    name: 'Tonga (Tonga Islands)',\r\n    nativeName: 'faka Tonga',\r\n  },\r\n  tr: {\r\n    name: 'Turkish',\r\n    nativeName: 'Türkçe',\r\n  },\r\n  ts: {\r\n    name: 'Tsonga',\r\n    nativeName: 'Xitsonga',\r\n  },\r\n  tt: {\r\n    name: 'Tatar',\r\n    nativeName: 'татарча, tatarça, تاتارچا‎',\r\n  },\r\n  tw: {\r\n    name: 'Twi',\r\n    nativeName: 'Twi',\r\n  },\r\n  ty: {\r\n    name: 'Tahitian',\r\n    nativeName: 'Reo Tahiti',\r\n  },\r\n  ug: {\r\n    name: 'Uighur, Uyghur',\r\n    nativeName: 'Uyƣurqə, ئۇيغۇرچە‎',\r\n  },\r\n  uk: {\r\n    name: 'Ukrainian',\r\n    nativeName: 'українська',\r\n  },\r\n  ur: {\r\n    name: 'Urdu',\r\n    nativeName: 'اردو',\r\n  },\r\n  uz: {\r\n    name: 'Uzbek',\r\n    nativeName: 'zbek, Ўзбек, أۇزبېك‎',\r\n  },\r\n  ve: {\r\n    name: 'Venda',\r\n    nativeName: 'Tshivenḓa',\r\n  },\r\n  vi: {\r\n    name: 'Vietnamese',\r\n    nativeName: 'Tiếng Việt',\r\n  },\r\n  vo: {\r\n    name: 'Volapük',\r\n    nativeName: 'Volapük',\r\n  },\r\n  wa: {\r\n    name: 'Walloon',\r\n    nativeName: 'Walon',\r\n  },\r\n  cy: {\r\n    name: 'Welsh',\r\n    nativeName: 'Cymraeg',\r\n  },\r\n  wo: {\r\n    name: 'Wolof',\r\n    nativeName: 'Wollof',\r\n  },\r\n  fy: {\r\n    name: 'Western Frisian',\r\n    nativeName: 'Frysk',\r\n  },\r\n  xh: {\r\n    name: 'Xhosa',\r\n    nativeName: 'isiXhosa',\r\n  },\r\n  yi: {\r\n    name: 'Yiddish',\r\n    nativeName: 'ייִדיש',\r\n  },\r\n  yo: {\r\n    name: 'Yoruba',\r\n    nativeName: 'Yorùbá',\r\n  },\r\n  za: {\r\n    name: 'Zhuang, Chuang',\r\n    nativeName: 'Saɯ cueŋƅ, Saw cuengh',\r\n  },\r\n};\r\n\r\n\r\nexport function langCodeToName(code) {\r\n  return IOS_LANGUAGES[code].name;\r\n}\r\n","import HttpService from './http.service';\r\n\r\nexport default {\r\n  query,\r\n  getById,\r\n  remove,\r\n  add,\r\n  edit,\r\n};\r\n\r\nasync function query(filter = null) {\r\n  const reviews = await HttpService.get('review');\r\n  if (!filter) return reviews;\r\n  return reviews.filter(review => {\r\n    if (review.type.guide) {\r\n      return review.type.guide._id === filter.guideId;\r\n    }\r\n    return review.type.trail._id === filter.trailId;\r\n  });\r\n}\r\n\r\n\r\nfunction getById(reviewId) {\r\n  return HttpService.get(`review/${reviewId}`);\r\n}\r\n\r\nfunction remove(id) {\r\n  return HttpService.delete(`review/${id}`);\r\n}\r\n\r\nasync function add(review) {\r\n  review.at = Date.now();\r\n  const addedReview = await HttpService.post('review', review);\r\n  return addedReview;\r\n}\r\n\r\nasync function edit(review) {\r\n  console.log(review);\r\n  review.isEditMode = false;\r\n  const reviewToEdit = await HttpService.put(`review/${review._id}`, review);\r\n  return reviewToEdit;\r\n}\r\n","import reviewService from '../../services/review.service';\r\n\r\n\r\nexport function loadReviews() {\r\n  return async dispatch => {\r\n    try {\r\n      const reviews = await reviewService.query();\r\n      dispatch(setReviews(reviews));\r\n      return reviews;\r\n    } catch (err) {\r\n      console.log('ReviewActions: err in loadReviews', err);\r\n    }\r\n  };\r\n}\r\n\r\nexport function LoadReview(id) {\r\n  return async dispatch => {\r\n    try {\r\n      const review = await reviewService.getById(id);\r\n      dispatch({ type: 'SET_REVIEW', review });\r\n    } catch (err) {\r\n      console.log('ops', err);\r\n    }\r\n  };\r\n}\r\n\r\n\r\nexport function saveReview(review) {\r\n  return async dispatch => {\r\n    try {\r\n      const currReview = await reviewService.add(review);\r\n      return dispatch(_addReview(currReview));\r\n    } catch (err) {\r\n      console.log('error', err);\r\n    }\r\n  };\r\n}\r\n\r\n\r\nexport function editReview(review) {\r\n  return async dispatch => {\r\n    try {\r\n      const currReview = await reviewService.edit(review.review);\r\n      dispatch({\r\n        type: 'EDIT',\r\n        review: {\r\n          currReview,\r\n        },\r\n      });\r\n    } catch (err) {\r\n      console.log('error', err);\r\n    }\r\n  };\r\n}\r\n\r\n\r\nexport function removeReview(reviewId) {\r\n  return async dispatch => {\r\n    await reviewService.remove(reviewId);\r\n    dispatch(_removeReview(reviewId));\r\n  };\r\n}\r\n\r\n\r\nexport function setReviews(reviews) {\r\n  return {\r\n    type: 'SET_REVIEWS',\r\n    review: reviews,\r\n  };\r\n}\r\n\r\n\r\nexport function _removeReview(reviewId) {\r\n  return {\r\n    type: 'DELETE',\r\n    reviewId,\r\n  };\r\n}\r\n\r\n\r\nfunction _addReview(review) {\r\n  return {\r\n    type: 'ADD',\r\n    review,\r\n  };\r\n}\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Rating from 'react-rating';\r\nimport { saveReview, loadReviews } from '../store/actions/reviewActions';\r\n\r\n//Images\r\nimport star from '../img/star.svg';\r\nimport star_o from '../img/‏‏star-o.svg';\r\n\r\n\r\nclass _ReviewAdd extends Component {\r\n  state = {\r\n    rate: 5,\r\n    by: {},\r\n    txt: '',\r\n    type: {},\r\n    title: '',\r\n    editMode: false,\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.guide) {\r\n      const { _id, fullName } = this.props.user;\r\n      const miniUser = { _id, fullName };\r\n      const { guide } = this.props;\r\n      const id = guide._id;\r\n      const guideName = guide.fullName;\r\n      const miniGuide = {\r\n        guide: {\r\n          fullName: guideName,\r\n          _id: id,\r\n        },\r\n      };\r\n      this.setState({ by: miniUser, type: miniGuide });\r\n    }\r\n    if (this.props.trail) {\r\n      const { _id, fullName } = this.props.user;\r\n      const miniUser = { _id, fullName };\r\n      const { trail } = this.props;\r\n      const id = trail._id;\r\n      const trailName = trail.name;\r\n      const miniTrail = {\r\n        trail: {\r\n          _id: id,\r\n          name: trailName,\r\n        },\r\n      };\r\n      this.setState(prevState => ({ ...prevState, by: miniUser, type: miniTrail }), () => {\r\n        // console.log(this.state);\r\n      });\r\n    }\r\n  }\r\n\r\n  handledChange = ev => {\r\n    const { name, value } = ev.target;\r\n    this.setState({ [name]: value });\r\n  }\r\n\r\n   onSend = ev => {\r\n     ev.preventDefault();\r\n     const review = this.state;\r\n     console.log('review was sent from ReviewAdd page: ', review)\r\n     this.props.saveReview(review)\r\n       .then(() => {\r\n        this.props.getReviewToShow();\r\n       })\r\n   }\r\n\r\n   render() {\r\n     const { rate, txt, title } = this.state;\r\n     const loggedInUser = this.props.user;\r\n     return (\r\n      <React.Fragment>\r\n        {loggedInUser && <section className=\"review-add\">\r\n          <div className=\"review-add-rate-container\">\r\n            <span className=\"review-add-rate-label\">Rate:</span>\r\n            <Rating start={0}\r\n              stop={5}\r\n              initialRating={rate}\r\n              emptySymbol={<img src={star} alt=\"star\" className=\"img-star\" />}\r\n              fullSymbol={<img src={star_o} alt=\"full-star\" className=\"img-star\" />}\r\n              onChange={rate => {\r\n                this.setState({ rate });\r\n              }}\r\n            />\r\n          </div>\r\n          <form className=\"review-add-form\" onSubmit={this.onSend}>\r\n            <label htmlFor=\"title\">Review title:</label>\r\n            <input className=\"review-add-title\" type=\"text\" id=\"title\" name=\"title\" value={title} onChange={this.handledChange} />\r\n            <label htmlFor=\"text\">Review text:</label>\r\n            <textarea className=\"review-add-textarea\" id=\"text\"\r\n              name=\"txt\" value={txt} onChange={this.handledChange}\r\n              cols=\"30\" rows=\"10\" placeholder=\"What do you think about me?\" required>\r\n            </textarea>\r\n            <button className=\"review-add-submit-btn\">Send</button>\r\n          </form>\r\n        </section>}\r\n      </React.Fragment>\r\n     );\r\n   }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  reviews: state.review.review,\r\n  user: state.user.loggedInUser,\r\n});\r\nconst mapDispatchToProps = {\r\n  saveReview,\r\n  loadReviews,\r\n};\r\nexport const ReviewAdd = connect(mapStateToProps, mapDispatchToProps)(_ReviewAdd);\r\n","import React, { Component } from 'react';\r\nimport Rating from 'react-rating';\r\nimport { connect } from 'react-redux';\r\nimport star from '../img/star.svg';\r\nimport star_o from '../img/‏‏star-o.svg';\r\nimport { removeReview, editReview } from '../store/actions/reviewActions';\r\n\r\n\r\nclass _Review extends Component {\r\n  state = {\r\n    review: {},\r\n    editMode: false,\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      review: this.props.review,\r\n    }, () => {\r\n      // console.log(this.state.review)\r\n    });\r\n  }\r\n\r\n\r\n  onDeleteGuideReview = () => {\r\n    this.props.removeReview(this.props.review._id);\r\n    this.props.getReviewToShow();\r\n  }\r\n\r\n  // reviewEditMode = () => {\r\n  //   this.setState({ editMode: true });\r\n  // }\r\n\r\n  reviewEditMode = () => {\r\n    this.state.editMode ? this.setState({ editMode: false }) : this.setState({ editMode: true });\r\n    \r\n  }\r\n\r\n  onEdit = ev => {\r\n    ev.preventDefault();\r\n    const review = this.state;\r\n    console.log(this.state);\r\n    this.props.editReview(review);\r\n  }\r\n\r\n\r\n  handledChange = ev => {\r\n    const { name, value } = ev.target;\r\n    this.setState(prevState => ({ review: { ...prevState.review, [name]: value } }), () => {\r\n      console.log(this.state.review);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const writtenBy = this.props.review ? this.props.review.by.fullName : null;\r\n    const { txt, rate, title } = this.state.review;\r\n    return (\r\n      <section className=\"review-container\">\r\n        {this.state.review && this.state.editMode ? \r\n           <form className=\"\" onSubmit={ this.onEdit }>\r\n          <span>title</span> <input type=\"text\" name=\"title\" value={ title } onChange={ this.handledChange } />\r\n          <br />\r\n          <textarea name=\"txt\" value={ txt } onChange={ this.handledChange }\r\n            cols=\"30\" rows=\"10\" placeholder=\"What do you think about me?\" required>\r\n          </textarea>\r\n          <button className=\"review-button review-edit-button\" onClick={ () => {\r\n          this.reviewEditMode();\r\n        } }>Edit</button>\r\n        </form>\r\n      : <div className=\"review\">\r\n      <div className=\"review-info\">\r\n        <p className=\"review-info-row review-info-title-row\">\r\n          <span className=\"review-info-heading\">Title:</span>\r\n          {title}\r\n        </p>\r\n        <p className=\"review-info-row\">\r\n          <span className=\"review-info-heading\">By:</span>\r\n          {writtenBy}\r\n        </p>\r\n        <p className=\"review-info-row\">\r\n          <span className=\"review-info-heading\">Rating:</span>\r\n          <Rating className=\"guide-preview-rating\" start={ 0 }\r\n          stop={ 5 }\r\n          initialRating={ rate }\r\n          emptySymbol={ <img className=\"trail-preview-full-star\" src={ star } /> }\r\n          fullSymbol={ <img className=\"trail-preview-star\" src={ star_o } /> }\r\n          readonly\r\n        />\r\n        </p>\r\n      </div>\r\n      <p className=\"review-text\">\r\n        {txt}\r\n      </p>\r\n      <div className=\"review-buttons\">\r\n        <button className=\"review-button review-delete-button\" onClick={ () => {\r\n          this.onDeleteGuideReview();\r\n        } }>Delete</button>\r\n        <button className=\"review-button review-edit-button\" onClick={ () => {\r\n          this.reviewEditMode();\r\n        } }>Edit</button>\r\n      </div>\r\n    </div> }\r\n\r\n        \r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => ({\r\n  reviews: state.review.reviews,\r\n\r\n});\r\nconst mapDispatchToProps = {\r\n  removeReview,\r\n  editReview,\r\n};\r\nexport const Review = connect(mapStateToProps, mapDispatchToProps)(_Review);\r\n","import React from 'react';\r\nimport { Review } from './Review';\r\n\r\nexport const ReviewList = props => (\r\n\r\n\r\n  <section className=\"review-list\">\r\n    { props.reviews.map(review => (\r\n      <Review key={ review._id } review={ review } getReviewToShow={props.getReviewToShow}/>\r\n    ))}\r\n  </section>\r\n);\r\n","import HttpService from './http.service';\r\n\r\nconst END_POINT = 'order';\r\n\r\nexport default {\r\n  query,\r\n  save,\r\n  remove,\r\n  getById,\r\n};\r\n\r\nfunction query(filter = null) {\r\n  let queryStr = '?';\r\n  if (filter.guideId) queryStr += `guideId=${filter.guideId}`;\r\n  else if (filter.userId) queryStr += `userId=${filter.userId}`;\r\n\r\n  return HttpService.get(END_POINT + queryStr);\r\n}\r\n\r\nfunction save(order) {\r\n  if (order._id) {\r\n    return HttpService.put(`${END_POINT}/${order._id}`, order);\r\n  }\r\n  return HttpService.post(`${END_POINT}`, order);\r\n}\r\n\r\nfunction remove(orderId) {\r\n  return HttpService.delete(`${END_POINT}/${orderId}`);\r\n}\r\n\r\nfunction getById(orderId) {\r\n  return HttpService.get(`${END_POINT}/${orderId}`);\r\n}\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Calendar from 'react-calendar';\r\nimport history from '../history';\r\nimport 'react-calendar/dist/Calendar.css';\r\n\r\n//services\r\nimport userService from '../services/user.service';\r\nimport trailService from '../services/trail.service';\r\nimport orderService from '../services/order.service';\r\n\r\n// Components/Pages\r\nimport { Modal } from './Modal';\r\n\r\nclass _BookingForm extends Component {\r\n  state = {\r\n    bookForm: {\r\n      trailIdx: this.props.trailIdx,\r\n      peopleCount: 1,\r\n      date: new Date(),\r\n    },\r\n  };\r\n\r\n  handelInput = ev => {\r\n    const { name } = ev.target;\r\n    const value = ev.target.type === 'number' ? parseInt(ev.target.value, 10) : ev.target.value;\r\n\r\n    this.setState(prevState => ({ bookForm: { ...prevState.bookForm, [name]: value } }),\r\n      () => { console.log('state:', this.state); });\r\n  }\r\n\r\n  handelTrailIdx = ev => {\r\n    this.props.setTrailIdx(ev);\r\n    this.handelInput(ev);\r\n  }\r\n\r\n  handelDate = date => {\r\n    this.setState(prevState => ({ bookForm: { ...prevState.bookForm, date } }));\r\n  }\r\n\r\n  onBook = async ev => {\r\n    ev.preventDefault();\r\n    let newOrder = this.getNewOrder();\r\n    newOrder = await orderService.save(newOrder);\r\n    history.push(`/profile/${newOrder.buyerUser._id}`);\r\n  }\r\n\r\n  getNewOrder() {\r\n    const { guide } = this.props;\r\n    const { peopleCount, date, trailIdx } = this.state.bookForm;\r\n\r\n    const newOrder = {\r\n      peopleCount,\r\n      trailAt: Date.parse(date),\r\n      isConfirmed: false,\r\n      isCanceled: false,\r\n    };\r\n\r\n    newOrder.buyerUser = this.props.loggedInUser;\r\n    newOrder.buyerUser.isDeleted = false;\r\n    newOrder.guide = userService.getMiniUserObj(this.props.guide);\r\n    newOrder.guide.isDeleted = false;\r\n    const selectedTrail = guide.trails[trailIdx];\r\n    newOrder.trail = trailService.getMiniTrailObj(selectedTrail);\r\n    newOrder.price = guide.price;\r\n    return newOrder;\r\n  }\r\n\r\n\r\n  render() {\r\n    const { guide } = this.props;\r\n    const { bookForm } = this.state;\r\n\r\n    return (\r\n      <form className=\"booking-form\" onSubmit={this.onBook}>\r\n        <select\r\n          className=\"booking-form-selected-trail\"\r\n          name=\"trailIdx\"\r\n          onChange={this.handelTrailIdx}\r\n          value={bookForm.trailSelected}>\r\n          {\r\n            guide.trails.map((trail, idx) => (\r\n              <option key={trail._id} value={idx}>{trail.name}</option>))\r\n          }\r\n        </select>\r\n        <Calendar\r\n          onChange={date => { this.handelDate(date); }}\r\n          value={bookForm.date}\r\n          minDate={new Date()}\r\n        />\r\n        <div className=\"booking-form-people-count-container\">\r\n          <label className=\"booking-form-title\">How many people?</label>\r\n          <input className=\"booking-form-people-count\" type=\"number\" name=\"peopleCount\" value={bookForm.peopleCount} min=\"1\" onChange={this.handelInput} />\r\n        </div>\r\n        <div>\r\n          <div className=\"booking-form-price-container\" >\r\n            <label className=\"booking-form-title\">Price:</label>\r\n            <span className=\"price\">${bookForm.peopleCount * guide.price}</span>\r\n          </div>\r\n          <button type=\"submit\" className=\"booking-form-submit-button\">Book</button>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  currTrail: state.trail.selectedTrail,\r\n  loggedInUser: state.user.loggedInUser,\r\n});\r\nconst mapDispatchToProps = {\r\n\r\n};\r\nexport const BookingForm = connect(mapStateToProps, mapDispatchToProps)(_BookingForm);\r\n","/* eslint-disable max-len */\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Rating from 'react-rating';\r\nimport { Link } from 'react-router-dom';\r\n\r\n// services\r\nimport userService from '../services/user.service';\r\nimport { langCodeToName } from '../services/language.service';\r\n\r\n// actions\r\nimport { loadReviews } from '../store/actions/reviewActions';\r\n\r\n// Components/Pages\r\nimport { ReviewAdd } from '../cmps/ReviewAdd';\r\nimport { ReviewList } from '../cmps/ReviewList';\r\nimport { BookingForm } from '../cmps/BookingForm';\r\n\r\n// Images\r\nimport star from '../img/star.svg';\r\nimport star_o from '../img/‏‏star-o.svg';\r\n\r\n\r\nclass _BookingPage extends Component {\r\n  state = {\r\n    guide: '',\r\n    trailIdx: 0,\r\n    reviewsToShow: [],\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { id } = this.props.match.params;\r\n    const guide = await userService.getById(id);\r\n\r\n    const { currTrail } = this.props;\r\n    this.setState({ guide }, () => { this.setCurrTrailIdx(currTrail); });\r\n\r\n    // const reviews = await this.props.loadReviews({ guideId: id });\r\n    // this.setState({ reviews });\r\n\r\n    this.getReviewToShow();\r\n  }\r\n\r\n  getReviewToShow = async () => {\r\n    const { id } = this.props.match.params;\r\n    const reviews = await this.props.loadReviews({ guideId: id });\r\n    // console.log('reviews from booking page cdm: ', reviews);\r\n    const reviewsToShow = reviews\r\n      .filter(review => review.type.guide)\r\n      .filter(review => review.type.guide._id === id);\r\n    // console.log('reviewsToShow from booking page cdm: ', reviewsToShow);\r\n    this.setState(prevState => ({ ...prevState, reviewsToShow }));\r\n  }\r\n\r\n  setCurrTrailIdx = currTrail => {\r\n    if (currTrail) {\r\n      const trailIdx = this.state.guide.trails.findIndex(trail => (\r\n        trail._id === currTrail._id));\r\n      if (trailIdx !== -1) this.setState({ trailIdx });\r\n    }\r\n  }\r\n\r\n  setTrailIdx = ev => {\r\n    const { name } = ev.target;\r\n    const value = parseInt(ev.target.value, 10);\r\n\r\n    this.setState({ [name]: value });\r\n  }\r\n\r\n\r\n  render() {\r\n    const { guide, trailIdx, reviewsToShow } = this.state;\r\n    // console.log('reviewsToShow from booking page render: ', reviewsToShow);\r\n\r\n\r\n    return (\r\n      <main className=\"booking-page\">\r\n        {guide\r\n          && <div className=\"booking-page-container\">\r\n            <section className=\"booking-page-content\">\r\n              <div className=\"booking-page-details\">\r\n                <img className=\"booking-page-avatar\" alt={ guide.fullName } src={ guide.imgUrl } width=\"75px\" />\r\n                <p className=\"booking-page-full-name\">{guide.fullName}</p>\r\n                <p className=\"booking-page-rate-box\" >\r\n                  <span className=\"pra-rating\">Rating:</span>\r\n                  <Rating\r\n                    start={ 0 }\r\n                    stop={ 5 }\r\n                    initialRating={ guide.rating }\r\n                    emptySymbol={ <img src={ star } alt=\"star\" width=\"16\" /> }\r\n                    fullSymbol={ <img src={ star_o } alt=\"full-star\" width=\"16\" /> }\r\n                    readonly\r\n                  />\r\n                  <span className=\"total-rating\">({guide.reviewers_count})</span>\r\n                </p>\r\n                <div>\r\n                  <span className=\"booking-page-title\">Languages:</span>\r\n                  <span>{guide.languages.map(langCodeToName).join(', ')}</span>\r\n                </div>\r\n                <section>\r\n                  <div>\r\n                    <p className=\"booking-page-description\">\r\n                      I’ve traveled to over 100 countries and territories, traveled hundreds of thousands of miles, slept in over a thousand hostels, tried weird food (including fried maggots), made lifelong friends, learned multiple languages, and, most importantly, made it my mission now to help travelers like YOURSELF to realize YOUR travel dreams the same way those five backpackers helped me realize mine.\r\n                    </p>\r\n                  </div>\r\n                  <img\r\n                    className=\"booking-page-img-trail\"\r\n                    src={ guide.trails[trailIdx].imgUrls[0] }\r\n                  />\r\n                </section>\r\n              </div>\r\n              <section className=\"booking-page-add-review\">\r\n                <p className=\"title\">Write a review about {guide.fullName}</p>\r\n                {this.props.loggedInUser\r\n                  ? <ReviewAdd guide={ guide } getReviewToShow={ this.getReviewToShow } />\r\n                  : <div><Link to=\"/signup\">Sign up</Link> or <Link to=\"/login\">Log in</Link> to write your review</div>}\r\n                {guide && this.state.reviewsToShow\r\n                  && <ReviewList reviews={ reviewsToShow } getReviewToShow={ this.getReviewToShow } />\r\n                }\r\n              </section>\r\n            </section>\r\n            <BookingForm guide={ guide } setTrailIdx={ this.setTrailIdx } trailIdx={ trailIdx } />\r\n          </div>}\r\n      </main>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  loggedInUser: state.user.loggedInUser,\r\n  reviews: state.review.review,\r\n  currTrail: state.trail.selectedTrail,\r\n});\r\nconst mapDispatchToProps = {\r\n  loadReviews,\r\n};\r\nexport const BookingPage = connect(mapStateToProps, mapDispatchToProps)(_BookingPage);\r\n","\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { List } from '../cmps/List';\r\nimport { loadUsers } from '../store/actions/userAction';\r\n\r\nclass _GuidePage extends React.Component {\r\n  state = {\r\n    usersToShow: [],\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.loadUsers()\r\n      .then(() => {\r\n        this.setState(prevState => ({\r\n          ...prevState,\r\n          usersToShow: this.props.users\r\n            .filter(user => user.trails)\r\n            .sort((a, b) => b.rating - a.rating),\r\n        }));\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { usersToShow } = this.state;\r\n    return (\r\n      <main className=\"guide-page\">\r\n        <h1 className=\"guide-page-main-heading\">\r\n          Choose your guide\r\n        </h1>\r\n        <List items={ usersToShow } />\r\n      </main>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  users: state.user.users,\r\n  trail: state.trail,\r\n});\r\nconst mapDispatchToProps = {\r\n  loadUsers,\r\n};\r\nexport const GuidePage = connect(mapStateToProps, mapDispatchToProps)(_GuidePage);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { login } from '../store/actions/userAction';\r\n\r\nclass _LogIn extends Component {\r\n  state = {\r\n    msg: '',\r\n    logIn: {\r\n      password: 'admin',\r\n      email: 'admin@gmail.com',\r\n    },\r\n  }\r\n\r\n  componentDidMount() {\r\n    // if (this.props.loggedInUser) {\r\n    //   this.props.history.goBack();\r\n    // }\r\n  }\r\n\r\n  handleChange = ev => {\r\n    const { name, value } = ev.target;\r\n    this.setState(prevState => ({ logIn: { ...prevState.logIn, [name]: value } }));\r\n  }\r\n\r\n  onLogIn = ev => {\r\n    ev.preventDefault();\r\n\r\n    const { password, email } = this.state.logIn;\r\n    // if (!email || !password) {\r\n    //     return this.setState({ msg: 'Please enter user/password' });\r\n    // }\r\n    const userCreds = { password, email };\r\n    this.props.login(userCreds);\r\n    this.props.history.goBack();\r\n  }\r\n\r\n  render() {\r\n    const { password, email } = this.state.logIn;\r\n    return (\r\n      <main>\r\n        <form onSubmit={ this.onLogIn }>\r\n          <input type=\"email\" name=\"email\" value={ email } onChange={ this.handleChange } placeholder=\"Email\" required />\r\n          <input type=\"password\" name=\"password\" value={ password } onChange={ this.handleChange } placeholder=\"Password\" required />\r\n          <button>log In</button>\r\n        </form>\r\n      </main>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  users: state.user.users,\r\n  loggedInUser: state.user.loggedInUser,\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  login,\r\n};\r\nexport const LogIn = connect(mapStateToProps, mapDispatchToProps)(_LogIn);\r\n","import React from 'react';\r\nimport moment from 'moment';\r\n\r\nexport function Order({\r\n  order, onDelete, isGuide, orderUpdate,\r\n}) {\r\n  moment.locale('il');\r\n\r\n\r\n\r\n  function getStatus() {\r\n    const status = {};\r\n\r\n    status.style = {\r\n      color: getColorStyle(),\r\n    };\r\n    status.msg = getMsg();\r\n    status.isFinished = order.trailAt < Date.now();\r\n\r\n    return status;\r\n  }\r\n\r\n  function getColorStyle() {\r\n    if (order.isCanceled) return '#a10b00';\r\n    if (order.isConfirmed || order.trailAt < Date.now()) return '#4CAF50';\r\n    return '#eb8900';\r\n  }\r\n\r\n  function getMsg() {\r\n    if (order.isCanceled) return 'Canceled';\r\n    if (order.trailAt < Date.now()) return 'Finished';\r\n    if (order.isConfirmed) return 'Confirmed';\r\n    return 'Waiting for confirm';\r\n  }\r\n\r\n\r\n\r\n\r\n  function onCancel() {\r\n    order.isCanceled = true;\r\n    orderUpdate(order);\r\n  }\r\n\r\n  function onConfirm() {\r\n    order.isConfirmed = true;\r\n    orderUpdate(order);\r\n  }\r\n\r\n  const status = getStatus();\r\n  return (\r\n    <article className=\"order\">\r\n      <header className=\"order-header\">\r\n        <p className=\"order-row\">\r\n          <span className=\"order-title\">Create at</span><span>{moment(order.createAt).format('DD/MM/YY')}</span>\r\n        </p>\r\n        {!isGuide\r\n          && <p className=\"order-row\">\r\n            <span className=\"order-title\">Guide</span>\r\n            <span>{order.guide.fullName}</span>\r\n            <img className=\"order-avatar-img\" src={ order.guide.imgUrl } />\r\n          </p>}\r\n\r\n        {isGuide\r\n          && <p className=\"order-row\">\r\n            <span className=\"order-title\">By</span>\r\n            <span>{order.buyerUser.fullName}</span>\r\n            <img className=\"order-avatar-img\" src={ order.buyerUser.imgUrl } />\r\n          </p>}\r\n      </header>\r\n      <main className=\"order-main\">\r\n        <section className=\"order-details\">\r\n          <p className=\"order-row\">\r\n            <span className=\"order-title\">Trail date</span>\r\n            <span>{order.trail.name}</span>\r\n          </p>\r\n          <p className=\"order-row\">\r\n            <span className=\"order-title\">Trail date</span>\r\n            <span>{moment(order.trailAt).format('DD/MM/YY')}</span>\r\n          </p>\r\n          <p className=\"order-row\">\r\n            <span className=\"order-title\">People</span><span>{order.peopleCount}</span>\r\n          </p>\r\n          <p className=\"order-row\">\r\n            <span className=\"order-title\">Price</span><span>{order.price}$</span>\r\n          </p>\r\n        </section>\r\n        <section className=\"order-status\">\r\n          <p className=\"order-row\">\r\n            <span className=\"order-title\">Status</span>\r\n\r\n\r\n            <span className=\"order-status-msg\" style={ status.style }>{status.msg}</span>\r\n \r\n\r\n          </p>\r\n          {isGuide\r\n            && <div className=\"order-btn-panel\">\r\n              {!(order.isCanceled || status.isFinished) && (order.isConfirmed\r\n                ? <button className=\"order-btn order-btn-delete\" onClick={ onCancel }>Cancel</button>\r\n                : <button className=\"order-btn order-btn-confirm\" onClick={ onConfirm } >Confirm</button>\r\n              )}\r\n              {(order.isCanceled || status.isFinished)\r\n                && <button className=\"order-btn order-btn-delete\" onClick={ () => { onDelete(order); } }>Delete</button>}\r\n            </div>}\r\n          {!isGuide\r\n            && <div className=\"btn-panel\">\r\n              {(order.isCanceled || status.isFinished)\r\n                ? <button className=\"order-btn order-btn-delete\" onClick={ () => { onDelete(order); } }>Delete</button>\r\n                : <button className=\"order-btn order-btn-delete\" onClick={ onCancel }>Cancel</button>\r\n              }\r\n            </div>}\r\n        </section>\r\n      </main>\r\n    </article>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\n// Services\r\nimport OrderServer from '../services/order.service';\r\n\r\n//Pages/Components\r\nimport { Order } from './Order';\r\n\r\nexport function OrdersList({ orders, orderType, loadOrders }) {\r\n  async function onDelete(order) {\r\n    if (isGuide) {\r\n      order.guide.isDeleted = true;\r\n    } else order.buyerUser.isDeleted = true;\r\n\r\n    if (order.buyerUser.isDeleted && order.guide.isDeleted) {\r\n      await OrderServer.remove(order._id);\r\n    } else await OrderServer.save(order);\r\n\r\n    loadOrders();\r\n  }\r\n\r\n  async function orderUpdate(orderUpdated) {\r\n    await OrderServer.save(orderUpdated);\r\n    loadOrders();\r\n  }\r\n\r\n  const isGuide = orderType === 'customerOrder';\r\n  return (\r\n    <section className=\"order-list\">\r\n      <h2 className=\"order-list-title\">{isGuide ? 'Customer orders' : 'My orders'}</h2>\r\n      {orders && orders.map(order => <Order key={ order._id } order={ order } onDelete={ onDelete } orderUpdate={ orderUpdate } isGuide={ isGuide } />)}\r\n    </section>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\n//Services\r\nimport UserService from '../services/user.service';\r\nimport OrderService from '../services/order.service';\r\n\r\n//Pages/Components\r\nimport { OrdersList } from '../cmps/OrdersList';\r\n\r\nclass _UserProfile extends Component {\r\n  state = {\r\n    user: '',\r\n    orders: '',\r\n    orderType: 'userOrder',\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { id } = this.props.match.params;\r\n    const user = await UserService.getById(id);\r\n    this.setState({ user });\r\n    this.loadOrders();\r\n  }\r\n\r\n   loadOrders = async () => {\r\n     const query = this.state.orderType === 'customerOrder'\r\n       ? { guideId: this.state.user._id }\r\n       : { userId: this.state.user._id };\r\n\r\n     const orders = await OrderService.query(query);\r\n     this.setState({ orders });\r\n   }\r\n\r\n  render() {\r\n     const { user, orders, orderType } = this.state;\r\n     return user && (\r\n      <main className=\"user-profile\">\r\n        <section className=\"user-details\">\r\n          <img className=\"user-profile-img\" src={ user.imgUrl } alt={ user.fullName } />\r\n          <h2 className=\"user-profile-name\">{user.fullName}</h2>\r\n          <p className=\"user-profile-row\">\r\n            <span className=\"user-profile-title\">Username</span><span>{user.userName}</span>\r\n          </p>\r\n          <p className=\"user-profile-row\">\r\n            <span className=\"user-profile-title\">Email</span><span>{user.email}</span>\r\n          </p>\r\n          <div className=\"btns-panel\">\r\n           <button className=\"user-profile-btn\" onClick={ () => { this.setState({ orderType: 'userOrder' }, this.loadOrders); } }>My orders</button>\r\n           <button className=\"user-profile-btn\" onClick={ () => { this.setState({ orderType: 'customerOrder' }, this.loadOrders); } }>Customer orders</button>\r\n          </div>\r\n         </section>\r\n        {orders && <OrdersList orders={ orders } orderType={ orderType } loadOrders={ this.loadOrders } />}\r\n      </main>\r\n     );\r\n   }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  loggedInUser: state.user.loggedInUser,\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n\r\n};\r\n\r\nexport const UserProfile = connect(mapStateToProps, mapDispatchToProps)(_UserProfile);\r\n","export default [\r\n  {\r\n    stylers: [\r\n      {\r\n        hue: '#bbff00',\r\n      },\r\n      {\r\n        weight: 0.5,\r\n      },\r\n      {\r\n        gamma: 0.5,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    elementType: 'labels',\r\n    stylers: [\r\n      {\r\n        visibility: 'off',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    featureType: 'landscape.natural',\r\n    stylers: [\r\n      {\r\n        color: '#a4cc48',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    featureType: 'road',\r\n    elementType: 'geometry',\r\n    stylers: [\r\n      {\r\n        color: '#ffffff',\r\n      },\r\n      {\r\n        visibility: 'on',\r\n      },\r\n      {\r\n        weight: 1,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    featureType: 'administrative',\r\n    elementType: 'labels',\r\n    stylers: [\r\n      {\r\n        visibility: 'on',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    featureType: 'road.highway',\r\n    elementType: 'labels',\r\n    stylers: [\r\n      {\r\n        visibility: 'simplified',\r\n      },\r\n      {\r\n        gamma: 1.14,\r\n      },\r\n      {\r\n        saturation: -18,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    featureType: 'road.highway.controlled_access',\r\n    elementType: 'labels',\r\n    stylers: [\r\n      {\r\n        saturation: 30,\r\n      },\r\n      {\r\n        gamma: 0.76,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    featureType: 'road.local',\r\n    stylers: [\r\n      {\r\n        visibility: 'simplified',\r\n      },\r\n      {\r\n        weight: 0.4,\r\n      },\r\n      {\r\n        lightness: -8,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    featureType: 'water',\r\n    stylers: [\r\n      {\r\n        color: '#4aaecc',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    featureType: 'landscape.man_made',\r\n    stylers: [\r\n      {\r\n        color: '#718e32',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    featureType: 'poi.business',\r\n    stylers: [\r\n      {\r\n        saturation: 68,\r\n      },\r\n      {\r\n        lightness: -61,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    featureType: 'administrative.locality',\r\n    elementType: 'labels.text.stroke',\r\n    stylers: [\r\n      {\r\n        weight: 2.7,\r\n      },\r\n      {\r\n        color: '#f4f9e8',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    featureType: 'road.highway.controlled_access',\r\n    elementType: 'geometry.stroke',\r\n    stylers: [\r\n      {\r\n        weight: 1.5,\r\n      },\r\n      {\r\n        color: '#e53013',\r\n      },\r\n      {\r\n        saturation: -42,\r\n      },\r\n      {\r\n        lightness: 28,\r\n      },\r\n    ],\r\n  },\r\n];\r\n","import React, { Component } from 'react';\r\nimport {\r\n  Map, InfoWindow, Marker, GoogleApiWrapper,\r\n} from 'google-maps-react';\r\nimport history from '../history';\r\nimport mapStyle from '../style/mapStyle'\r\nexport class MapContainer extends Component {\r\n    state = {\r\n      showingInfoWindow: false,\r\n      activeMarker: {},\r\n      selectedPlace: {},\r\n      lat: 0,\r\n      lng: 0,\r\n      fromAdd: false,\r\n    };\r\n\r\n    componentDidMount() {\r\n      if (history.location.pathname === '/trail/add') {\r\n        this.setState({ fromAdd: true });\r\n      }\r\n    }\r\n\r\n\r\n    onMarkerClick = (props, marker, e) => this.setState({\r\n      selectedPlace: props,\r\n      activeMarker: marker,\r\n      showingInfoWindow: true,\r\n    });\r\n\r\n    updateLatLng=(lat, lng) => {\r\n      // this.setState({lat,lng})\r\n      this.props.updateLatLng(lat, lng);\r\n    }\r\n\r\n    onMapClicked = (props, map, clickEvent) => {\r\n      if (!this.state.fromAdd) return;\r\n      const lat = clickEvent.latLng.lat();\r\n      const lng = clickEvent.latLng.lng();\r\n\r\n      this.updateLatLng(lat, lng);\r\n\r\n\r\n      if (this.state.showingInfoWindow) {\r\n        this.setState({\r\n          showingInfoWindow: false,\r\n          activeMarker: null,\r\n        });\r\n      }\r\n    };\r\n\r\n    updateLatLng = (lat, lng) => {\r\n      // this.setState({lat,lng})\r\n      this.props.updateLatLng(lat, lng);\r\n    }\r\n\r\n    onMapClicked = (props, map, clickEvent) => {\r\n      if (!this.state.fromAdd) return;\r\n      const lat = clickEvent.latLng.lat();\r\n      const lng = clickEvent.latLng.lng();\r\n\r\n      this.updateLatLng(lat, lng);\r\n      this.setState({ lat, lng });\r\n\r\n      if (this.state.showingInfoWindow) {\r\n        this.setState({\r\n          showingInfoWindow: false,\r\n          activeMarker: null,\r\n        });\r\n      }\r\n    };\r\n\r\n\r\n    render() {\r\n      const style = {\r\n        position: 'relative',\r\n        width: '100%',\r\n        height: '100%',\r\n      };\r\n      return (\r\n            <Map\r\n                styles={ mapStyle }\r\n                zoom ={10}\r\n                google={ this.props.google }\r\n                initialCenter={ this.props.location ? {\r\n                  lat: this.props.location.lat,\r\n                  lng: this.props.location.lng,\r\n                } : {\r\n                  lat: 41,\r\n                  lng: 24,\r\n                } }\r\n                onClick={ this.onMapClicked }\r\n            >\r\n                {this.state.lat\r\n\r\n                  ? <Marker onClick={ this.onMarkerClick }\r\n                        position={ { lat: this.state.lat, lng: this.state.lng } }\r\n                        name={ 'Current location' } /> : <Marker onClick={ this.onMarkerClick } name={ 'Current location' } />}\r\n\r\n                <InfoWindow\r\n                    marker={ this.state.activeMarker }\r\n                    visible={ this.state.showingInfoWindow }>\r\n                    <div>\r\n                        <h1>{this.state.selectedPlace.name}</h1>\r\n                    </div>\r\n                </InfoWindow>\r\n            </Map>\r\n      );\r\n    }\r\n}\r\n\r\nexport default GoogleApiWrapper({\r\n  apiKey: ('AIzaSyDw7z6CMCiRYFpFmT4LIk7JWqyqvSWm1R8'),\r\n})(MapContainer);\r\n","\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport history from '../history';\r\nimport { loadUsers } from '../store/actions/userAction';\r\nimport { loadReviews } from '../store/actions/reviewActions';\r\n// import { loadTrail } from '../store/actions/trailsActions';\r\nimport {\r\n  loadTrail,\r\n  removeTrail,\r\n  loadTrails,\r\n  editTrail,\r\n} from '../store/actions/trailsActions';\r\nimport { GuidePreview } from '../cmps/GuidePreview';\r\nimport MapContainer from '../cmps/MapContainer';\r\nimport { ReviewList } from '../cmps/ReviewList';\r\nimport { ReviewAdd } from '../cmps/ReviewAdd';\r\n\r\nclass _TrailDetailsPage extends React.Component {\r\n  state = {\r\n    isEditMode: false,\r\n    usersToShow: null,\r\n    reviews: [],\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.props.loadUsers();\r\n\r\n    const { id } = this.props.match.params;\r\n    this.props.loadTrail(id)\r\n      .then(() => {\r\n        this.setState(prevState => ({\r\n          ...prevState,\r\n          selectedTrail: this.props.trail.selectedTrail,\r\n          usersToShow: this.props.users\r\n            .filter(\r\n              user => (!user.trails ? false : user.trails.some(\r\n                trail => trail._id === this.props.trail.selectedTrail.id,\r\n              )),\r\n            )\r\n            .sort((a, b) => b.rating - a.rating),\r\n        }));\r\n      });\r\n\r\n    this.getReviewToShow();\r\n  }\r\n\r\n  getReviewToShow = async () => {\r\n    const { id } = this.props.match.params;\r\n\r\n    const reviews = await this.props.loadReviews({ trailId: id });\r\n    if (reviews) {\r\n      const trailReviews = reviews\r\n        .filter(review => review.type.trail)\r\n        .filter(review => review.type.trail._id === id);\r\n\r\n      this.setState({ reviews: trailReviews });\r\n    }\r\n  }\r\n\r\n  inputHandler = ({ target }) => {\r\n    const { name } = target;\r\n    const { value } = target;\r\n    this.setState(prevState => ({\r\n      ...prevState,\r\n      selectedTrail: {\r\n        ...prevState.selectedTrail,\r\n        [name]: value,\r\n      },\r\n    }));\r\n  }\r\n\r\n  onEditHandler = () => {\r\n    this.setState(prevState => ({ ...prevState, isEditMode: true }));\r\n    console.log(this.state);\r\n  }\r\n\r\n  onFinishEditHandler = ev => {\r\n    ev.preventDefault();\r\n    this.setState({ isEditMode: false });\r\n    const { selectedTrail } = this.state;\r\n    this.props.editTrail(selectedTrail)\r\n      .then(() => {\r\n        this.props.loadTrails();\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.isEditMode) {\r\n      const {\r\n        name, country, difficulty, distance, days, imgUrls, descriptions,\r\n      } = this.state.selectedTrail;\r\n\r\n      return (\r\n        <div className=\"\">\r\n          <form className=\"trail-details-edit-form\" onSubmit={ this.onFinishEditHandler }>\r\n            <label>\r\n              name:<input type=\"text\" name=\"name\" value={ name } onChange={ this.inputHandler } />\r\n            </label>\r\n            <label>\r\n              country: <input className=\"\" type=\"text\" value={ country } name=\"country\" onChange={ this.inputHandler } />\r\n            </label>\r\n            <label>\r\n              distance: <input className=\"\" type=\"text\" value={ distance } name=\"distance\" onChange={ this.inputHandler } />\r\n            </label>\r\n            <label>\r\n              difficulty:<select name=\"difficulty\" value={ difficulty } onChange={ this.inputHandler }>\r\n                <option value=\"Beginner\">Beginner</option>\r\n                <option value=\"Advanced\">Advanced</option>\r\n                <option value=\"Expect\">Expect</option>\r\n              </select>\r\n            </label>\r\n            <label>\r\n              days: <input type=\"number\" value={ days } name=\"days\" onChange={ this.inputHandler } />\r\n            </label>\r\n\r\n            <label>\r\n              imgs: <input type=\"text\" value={ imgUrls } name=\"imgUrls\" onChange={ this.inputHandler } />\r\n            </label>\r\n            <br />\r\n            <label>\r\n              descriptions: <textarea cols=\"80\" rows=\"30\" value={ descriptions } name=\"descriptions\" onChange={ this.inputHandler }></textarea>\r\n            </label>\r\n            <button className=\"\">Finish Edit</button>\r\n          </form>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    const { selectedTrail, usersToShow, reviews } = this.state;\r\n    return (<React.Fragment>\r\n      {selectedTrail && <main className=\"trail-details\">\r\n        <div className=\"trail-details-main-image\" style={ { backgroundImage: `url(${selectedTrail.imgUrls[0]})` } }>\r\n          <h1 className=\"trail-details-main-header\">{selectedTrail.name}</h1>\r\n        </div>\r\n        <section className=\"trail-details-container\">\r\n          <h2 className=\"trail-details-info-header\">\r\n            Check guides for this trail\r\n          </h2>\r\n          <div className=\"trail-details-guides-list\">\r\n            {usersToShow\r\n              && usersToShow\r\n                .map(guide => <GuidePreview key={ guide._id } guide={ guide } />)}\r\n          </div>\r\n          <section className=\"trail-details-info\">\r\n            <div className=\"trail-details-info-main\">\r\n              <h2 className=\"trail-details-info-header\">\r\n                Trail info\r\n              </h2>\r\n              <p>\r\n                <span className=\"trail-details-info-heading\">Description: </span>{selectedTrail.descriptions}\r\n              </p>\r\n              <p>\r\n                <span className=\"trail-details-info-heading\">Country: </span>{selectedTrail.country}\r\n              </p>\r\n              <p>\r\n                <span className=\"trail-details-info-heading\">Difficulty: </span>{selectedTrail.difficulty}\r\n              </p>\r\n              <p>\r\n                <span className=\"trail-details-info-heading\">Days: </span>{selectedTrail.days}\r\n              </p>\r\n              <p>\r\n                <span className=\"trail-details-info-heading\">Distance: </span>{selectedTrail.distance}\r\n              </p>\r\n              <p>\r\n                <span className=\"trail-details-info-heading\">Rating: </span>{selectedTrail.rating}\r\n              </p>\r\n              <div className=\"trail-details-images\">\r\n                {selectedTrail.imgUrls.map((image, i) => <img\r\n                  key={ i }\r\n                  className=\"trail-details-image\"\r\n                  alt={ selectedTrail.name }\r\n                  src={ selectedTrail.imgUrls[i] }\r\n                />)}\r\n              </div>\r\n            </div>\r\n            <div className=\"trail-details-info-aside\">\r\n              <h2 className=\"trail-details-info-header\">\r\n                Trail location\r\n              </h2>\r\n              <div className=\"trail-details-map-container\">\r\n                <MapContainer location={ selectedTrail.location } />\r\n              </div>\r\n              <h2 className=\"trail-details-info-header\">\r\n                Add review\r\n              </h2>\r\n\r\n              {this.props.loggedInUser\r\n                ? <ReviewAdd getReviewToShow={ this.getReviewToShow } trail={ this.state.selectedTrail } />\r\n                : <div><Link to=\"/signup\">Sign up</Link> or <Link to=\"/login\">Log in</Link> to write your review</div>}\r\n\r\n              <h2 className=\"trail-details-info-header no-padding-start\">\r\n                Trail reviews\r\n              </h2>\r\n              {/* {this.state.reviews.length > 0\r\n                && <ReviewList reviews={ reviews } />\r\n              } */}\r\n\r\n              <ReviewList reviews={ reviews } getReviewToShow={ this.getReviewToShow } />\r\n\r\n            </div>\r\n          </section>\r\n        </section>\r\n        {console.log(this.props.loggedInUser)\r\n        }\r\n        {this.props.loggedInUser.isAdmin\r\n        &&  <section className=\"trail-details-controls\">\r\n\r\n          <Link className=\"trail-details-button trail-details-back-button\" to={ '/trail' } > Back to List </Link>\r\n          <button\r\n            className=\"trail-details-button trail-details-edit-button\"\r\n            onClick={ () => { this.onEditHandler(); } }>\r\n            Edit trail\r\n            </button>\r\n\r\n          <button\r\n            className=\"trail-details-button trail-details-remove-button\"\r\n            onClick={ () => {\r\n              this.props.removeTrail(selectedTrail._id)\r\n                .then(() => history.push('/trail'));\r\n            }\r\n            }>\r\n            Delete Trail\r\n            </button>\r\n        </section>}\r\n\r\n        <section>\r\n\r\n        </section>\r\n\r\n      </main>}\r\n    </ React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  loggedInUser: state.user.loggedInUser,\r\n  users: state.user.users,\r\n  trail: state.trail,\r\n  isLoading: state.loading.isLoading,\r\n  reviews: state.review,\r\n});\r\nconst mapDispatchToProps = {\r\n  loadUsers,\r\n  loadTrail,\r\n  loadTrails,\r\n  removeTrail,\r\n  editTrail,\r\n  loadReviews,\r\n};\r\nexport const TrailDetailsPage = connect(mapStateToProps, mapDispatchToProps)(_TrailDetailsPage);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { saveTrail, loadTrails } from '../store/actions/trailsActions';\r\nimport MapContainer from '../cmps/MapContainer';\r\n\r\nclass TrailAdd extends React.Component {\r\n  state = {\r\n    name: '',\r\n    country: '',\r\n    difficulty: '',\r\n    distance: '',\r\n    days: '',\r\n    location: {\r\n      lat: 0,\r\n      lng: 0,\r\n    },\r\n    imgUrls: [],\r\n    descriptions: '',\r\n    createdAt: Date.now(),\r\n  }\r\n\r\n\r\n  updateLatLng = (lat, lng) => {\r\n    this.setState({\r\n      location: {\r\n        lat, lng,\r\n      },\r\n    }, console.log(this.state));\r\n  }\r\n\r\n  inputHandler = ({ target }) => {\r\n    const { name } = target;\r\n\r\n    let { value } = target;\r\n    if (name === 'imgUrls') value = value.split(',');\r\n    this.setState({ [name]: value });\r\n  }\r\n\r\n\r\n  getLocation = ({ target }) => {\r\n    const { name } = target;\r\n    const { value } = target;\r\n    this.setState(prevstate => ({\r\n      location: {\r\n        ...prevstate.location,\r\n        [name]: value,\r\n      },\r\n    }));\r\n  }\r\n\r\n\r\n  resetForm = () => {\r\n    this.setState({\r\n      name: '',\r\n      country: '',\r\n      difficulty: '',\r\n      distance: '',\r\n      days: '',\r\n      location: {\r\n        lat: 0,\r\n        lng: 0,\r\n      },\r\n      imgUrls: [],\r\n      createdAt: Date.now(),\r\n\r\n    });\r\n  }\r\n\r\n  handleSubmit = ev => {\r\n    ev.preventDefault();\r\n    const trail = this.state;\r\n    this.props.saveTrail(trail)\r\n      .then(() => {\r\n        this.props.loadTrails();\r\n      });\r\n    this.resetForm();\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      name, country, difficulty, days, distance, imgUrls, descriptions,\r\n    } = this.state;\r\n\r\n    const { lat, lng } = this.state.location;\r\n\r\n    return (\r\n      <main className=\"\">\r\n        <h2>Add a trail</h2>\r\n        <form className=\"trail-add-form\" onSubmit={ this.handleSubmit }>\r\n          <div className=\"trail-add-container\">\r\n\r\n            <div className=\"add-right-container\">\r\n\r\n\r\n              <div className=\"add-set\">\r\n                <label>\r\n                  name:<input type=\"text\" name=\"name\" value={ name } onChange={ this.inputHandler } />\r\n                </label>\r\n                <label>\r\n                  country: <input className=\"\" type=\"text\" value={ country } name=\"country\" onChange={ this.inputHandler } />\r\n                </label>\r\n                <label>\r\n                  distance: <input className=\"\" type=\"text\" value={ distance } name=\"distance\" onChange={ this.inputHandler } />\r\n                </label>\r\n              </div>\r\n\r\n\r\n              <div className=\"add-set\">\r\n                <label>\r\n                  difficulty:<select name=\"difficulty\" value={ difficulty } onChange={ this.inputHandler }>\r\n                    <option value=\"Beginner\">Beginner</option>\r\n                    <option value=\"Advanced\">Advanced</option>\r\n                    <option value=\"Expect\">Expect</option>\r\n                  </select>\r\n                </label>\r\n                <label>\r\n                  days: <input type=\"number\" value={ days } name=\"days\" onChange={ this.inputHandler } />\r\n                </label>\r\n\r\n                <label>\r\n                  imgs: <input type=\"text\" value={ imgUrls } name=\"imgUrls\" onChange={ this.inputHandler } />\r\n                </label>\r\n              </div>\r\n\r\n              <div className=\"add-set\">\r\n                <label>\r\n                  lat: <input type=\"number\" value={ lat } name=\"lat\" onChange={ this.getLocation } />\r\n                </label>\r\n                <label>\r\n                  lng: <input type=\"number\" value={ lng } name=\"lng\" onChange={ this.getLocation } />\r\n                </label>\r\n              </div>\r\n\r\n              <br />\r\n              <label>\r\n                descriptions:\r\n             <br />\r\n                <textarea cols=\"80\" rows=\"30\" value={ descriptions } name=\"descriptions\" onChange={ this.inputHandler }></textarea>\r\n              </label>\r\n\r\n              <button className=\"\">Add</button>\r\n            </div>\r\n          </div>\r\n\r\n          <MapContainer updateLatLng={ this.updateLatLng } />\r\n\r\n\r\n        </form>\r\n\r\n\r\n      </main>\r\n\r\n    );\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => ({\r\n  trails: state.trail.trails,\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  saveTrail,\r\n  loadTrails,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TrailAdd);\r\n","import React from 'react';\r\nimport './style/global.scss';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport { Navbar } from './cmps/Navbar';\r\nimport { Footer } from './cmps/Footer';\r\nimport { HomePage } from './pages/HomePage';\r\nimport { TrailPage } from './pages/TrailPage';\r\nimport { BookingPage } from './pages/BookingPage';\r\nimport { GuidePage } from './pages/GuidePage';\r\nimport { LogIn } from './pages/LogIn';\r\nimport { UserProfile } from './pages/UserProfile';\r\nimport { TrailDetailsPage } from './pages/TrailDetailsPage';\r\nimport TrailAdd from './pages/TrailAdd';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <Navbar />\r\n      <Switch>\r\n        <Route path=\"/profile/:id\" component={ UserProfile } />\r\n        <Route path=\"/login\" component={ LogIn } />\r\n        <Route path=\"/booking/:id\" component={ BookingPage } />\r\n        <Route path=\"/trail/add\" component={ TrailAdd } />\r\n        <Route path=\"/trail/:id\" component={ TrailDetailsPage } />\r\n        <Route path=\"/trail\" component={ TrailPage } />\r\n        <Route exact path=\"/guide\" component={ GuidePage } />\r\n        <Route exact path=\"/\" component={ HomePage } />\r\n      </Switch>\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","let localLoggedinUser = null;//{\r\n//   _id: 'nbQBvvXdIu',\r\n//   userName: 'sarah32',\r\n//   fullName: 'Sarah Tubbaly',\r\n//   password: 'HX238PyM',\r\n//   email: 'sarah@gmail.com',\r\n//   isAdmin: false,\r\n//   imgUrl: 'https://randomuser.me/api/portraits/women/91.jpg',\r\n//   rating: 5,\r\n//   reviewers_count: 6,\r\n//   languages: [\r\n//     'he',\r\n//   ],\r\n// };\r\n\r\n\r\nif (sessionStorage.user) localLoggedinUser = JSON.parse(sessionStorage.user);\r\n\r\nconst initialState = {\r\n  users: [],\r\n  loggedInUser: localLoggedinUser,\r\n};\r\n\r\n\r\nexport default function (state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'SET_USERS':\r\n      return { ...state, users: action.users };\r\n\r\n    case 'SET_USER':\r\n      return { ...state, loggedInUser: action.user };\r\n\r\n    case 'UPDATE_USER':\r\n      return {\r\n        ...state,\r\n        users: state.users.map(user => (user._id === action.user._id ? action.user : user)),\r\n      };\r\n\r\n    case 'ADD_USER':\r\n      return {\r\n        ...state,\r\n        users: [...state.user, action.user],\r\n      };\r\n\r\n    case 'USER_REMOVE':\r\n      return {\r\n        ...state,\r\n        users: state.users.filter(user => user._id !== action.userId),\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","const initialState = {\r\n  trails: [],\r\n  selectedTrail: null,\r\n};\r\n\r\nexport default function (state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'ADD':\r\n      return {\r\n        ...state,\r\n        trails: state.trails.map(trail => {\r\n          if (trail._id === action.trail._id) return action.trail;\r\n          return trail;\r\n        }),\r\n      };\r\n    case 'EDIT':\r\n      return {\r\n\r\n        ...state,\r\n\r\n        trails: state.trails.map(trail => {\r\n          if (trail._id === action.trail._id) return action.trail;\r\n          action.trail.currTrail.isEditMode = false;\r\n          return trail;\r\n        }),\r\n      };\r\n    case 'DELETE':\r\n      return {\r\n        ...state,\r\n        trails: state.trails.filter(trail => trail._id !== action.trailId),\r\n      };\r\n    case 'SET_TRAILS':\r\n      return {\r\n        ...state,\r\n        trails: action.trails,\r\n\r\n      };\r\n\r\n    case 'SET_TRAIL':\r\n      return {\r\n        ...state,\r\n        selectedTrail: action.trail,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","const initialState = {\r\n  review: [],\r\n  selectedReview: null,\r\n};\r\n\r\nexport default function (state = initialState, action = {}) {\r\n  switch (action.type) {\r\n\r\n\r\n    case 'ADD':\r\n      return {\r\n        ...state,\r\n        selectedReview: action.review,\r\n        review: [...state.review, action.review],\r\n      };\r\n\r\n    case 'EDIT':\r\n      return {\r\n        ...state,\r\n        review: state.review.map(review => {\r\n          if (review._id === action.review._id) return action.review;\r\n          action.review.isEditMode = false;\r\n          return review;\r\n        }),\r\n      };\r\n    case 'DELETE':\r\n      console.log(state);\r\n\r\n      return {\r\n        ...state,\r\n        review: state.review.filter(review => review.id !== action.reviewId),\r\n      };\r\n    case 'SET_REVIEWS':\r\n      return { ...state, review: action.review };\r\n\r\n    case 'SET_REVIEW':\r\n\r\n      return {\r\n        ...state,\r\n        selectedReview: action.review,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","const initialState = {\r\n  isLoading: false,\r\n};\r\n\r\nexport default function (state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'LOADING_START':\r\n      return { ...state, isLoading: true };\r\n\r\n    case 'LOADING_DONE':\r\n      return { ...state, isLoading: false };\r\n\r\n    default: return state;\r\n  }\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport userReducer from './userReducer';\r\nimport trailReducer from './trailReducer';\r\nimport reviewReducer from './reviewReducer';\r\nimport loadingReducer from './loadingReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  user: userReducer,\r\n  trail: trailReducer,\r\n  review: reviewReducer,\r\n  loading: loadingReducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","import { createStore, applyMiddleware, compose } from 'redux';\r\n\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers/rootReducer';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst Store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(applyMiddleware(thunk)),\r\n);\r\n\r\nexport default Store;\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nclass ScrollToTop extends React.Component {\r\n  componentDidUpdate(prevProps) {\r\n    if (\r\n      this.props.location.pathname !== prevProps.location.pathname\r\n    ) {\r\n      window.scrollTo(0, 0);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport default withRouter(ScrollToTop);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport { Router } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport history from './history';\r\nimport store from './store/store';\r\nimport ScrollToTop from './cmps/ScrollToTop';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <Router history={history}>\r\n      <ScrollToTop />\r\n      <App />\r\n    </Router>\r\n  </Provider>,\r\n  document.getElementById('root'),\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}